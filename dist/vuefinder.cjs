"use strict";var fr=Object.defineProperty;var vr=(n,t,o)=>t in n?fr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[t]=o;var Zt=(n,t,o)=>vr(n,typeof t!="symbol"?t+"":t,o);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),_r=require("mitt"),pr=require("dragselect"),Ie=require("./icons-CSLqtlCa.cjs"),hr=require("@uppy/core"),gr=require("@uppy/xhr-upload"),br=require("vanilla-lazyload");require("cropperjs/dist/cropper.css");const yr=require("cropperjs");var ao;const Jt=(ao=document.querySelector('meta[name="csrf-token"]'))==null?void 0:ao.getAttribute("content");class kr{constructor(t){Zt(this,"config");Zt(this,"customFetch",async(...t)=>{let[o,s]=t;this.config.fetchRequestInterceptor&&(s=this.config.fetchRequestInterceptor(s));let r=await fetch(o,s);return this.config.fetchResponseInterceptor&&(r=await this.config.fetchResponseInterceptor(r)),r});this.config=t}get config(){return this.config}transformRequestParams(t){const o=this.config,s={};Jt!=null&&Jt!==""&&(s[o.xsrfHeaderName]=Jt);const r=Object.assign({},o.headers,s,t.headers),l=Object.assign({},o.params,t.params),i=t.body,c=o.baseUrl+t.url,a=t.method;let d;a!=="get"&&(i instanceof FormData?(d=i,o.body!=null&&Object.entries(this.config.body).forEach(([u,v])=>{d.append(u,v)})):(d={...i},o.body!=null&&Object.assign(d,this.config.body)));const m={url:c,method:a,headers:r,params:l,body:d};if(o.transformRequest!=null){const u=o.transformRequest({url:c,method:a,headers:r,params:l,body:d});u.url!=null&&(m.url=u.url),u.method!=null&&(m.method=u.method),u.params!=null&&(m.params=u.params??{}),u.headers!=null&&(m.headers=u.headers??{}),u.body!=null&&(m.body=u.body)}return m}getDownloadUrl(t,o){if(o.url!=null)return o.url;const s=this.transformRequestParams({url:"",method:"get",params:{q:"download",adapter:t,path:o.path}});return s.url+"?"+new URLSearchParams(s.params).toString()}getPreviewUrl(t,o){if(o.url!=null)return o.url;const s=this.transformRequestParams({url:"",method:"get",params:{q:"preview",adapter:t,path:o.path}});return s.url+"?"+new URLSearchParams(s.params).toString()}async send(t){const o=this.transformRequestParams(t),s=t.responseType||"json",r={method:t.method,headers:o.headers,signal:t.abortSignal},l=o.url+"?"+new URLSearchParams(o.params);if(o.method!=="get"&&o.body!=null){let c;o.body instanceof FormData?c=t.body:(c=JSON.stringify(o.body),r.headers["Content-Type"]="application/json"),r.body=c}this.config.fetchParams&&Object.assign(r,this.config.fetchParams);const i=await this.customFetch(l,r);if(i.ok)return await i[s]();throw await i.json()}}function wr(n){const t={baseUrl:"",headers:{},params:{},body:{},xsrfHeaderName:"X-CSRF-Token",fetchParams:{}};return typeof n=="string"?Object.assign(t,{baseUrl:n}):Object.assign(t,n),new kr(t)}function Er(n){let t=localStorage.getItem(n+"_storage");const o=e.reactive(JSON.parse(t??"{}"));e.watch(o,s);function s(){Object.keys(o).length?localStorage.setItem(n+"_storage",JSON.stringify(o)):localStorage.removeItem(n+"_storage")}function r(a,d){o[a]=d}function l(a){delete o[a]}function i(){Object.keys(o).map(a=>l(a))}return{getStore:(a,d=null)=>o.hasOwnProperty(a)?o[a]:d,setStore:r,removeStore:l,clearStore:i}}async function Sr(n,t){const o=t[n];return typeof o=="function"?(await o()).default:o}function Vr(n,t,o,s){const{getStore:r,setStore:l}=n,i=e.ref({}),c=e.ref(r("locale",t)),a=(u,v=t)=>{Sr(u,s).then(f=>{i.value=f,l("locale",u),c.value=u,l("translations",f),Object.values(s).length>1&&(o.emit("vf-toast-push",{label:"The language is set to "+u}),o.emit("vf-language-saved"))}).catch(f=>{v?(o.emit("vf-toast-push",{label:"The selected locale is not yet supported!",type:"error"}),a(v,null)):o.emit("vf-toast-push",{label:"Locale cannot be loaded!",type:"error"})})};e.watch(c,u=>{a(u)}),!r("locale")&&!s.length?a(t):i.value=r("translations");const d=(u,...v)=>v.length?d(u=u.replace("%s",v.shift()),...v):u;function m(u,...v){return i.value&&i.value.hasOwnProperty(u)?d(i.value[u],...v):d(u,...v)}return e.reactive({t:m,locale:c})}const Q={EDIT:"edit",NEW_FILE:"newfile",NEW_FOLDER:"newfolder",PREVIEW:"preview",ARCHIVE:"archive",UNARCHIVE:"unarchive",SEARCH:"search",RENAME:"rename",UPLOAD:"upload",DELETE:"delete",FULL_SCREEN:"fullscreen",DOWNLOAD:"download",LANGUAGE:"language"},Nr=Object.values(Q),Cr="2.7.0";function io(n,t,o,s,r){return(t=Math,o=t.log,s=1024,r=o(n)/o(s)|0,n/t.pow(s,r)).toFixed(0)+" "+(r?"KMGTPEZY"[--r]+"iB":"B")}function co(n,t,o,s,r){return(t=Math,o=t.log,s=1e3,r=o(n)/o(s)|0,n/t.pow(s,r)).toFixed(0)+" "+(r?"KMGTPEZY"[--r]+"B":"B")}function xr(n){const t={k:1,m:2,g:3,t:4},s=/(\d+(?:\.\d+)?)\s?(k|m|g|t)?b?/i.exec(n);return s[1]*Math.pow(1024,t[s[2].toLowerCase()])}const qe={SYSTEM:"system",LIGHT:"light",DARK:"dark"};function Br(n,t){const o=e.ref(qe.SYSTEM),s=e.ref(qe.LIGHT);o.value=n.getStore("theme",t??qe.SYSTEM);const r=window.matchMedia("(prefers-color-scheme: dark)"),l=i=>{o.value===qe.DARK||o.value===qe.SYSTEM&&i.matches?s.value=qe.DARK:s.value=qe.LIGHT};return l(r),r.addEventListener("change",l),{value:o,actualValue:s,set(i){o.value=i,i!==qe.SYSTEM?n.setStore("theme",i):n.removeStore("theme"),l(r)}}}function $r(){const n=e.shallowRef(null),t=e.ref(!1),o=e.ref();return{visible:t,type:n,data:o,open:(l,i=null)=>{document.querySelector("body").style.overflow="hidden",t.value=!0,n.value=l,o.value=i},close:()=>{document.querySelector("body").style.overflow="",t.value=!1,n.value=null}}}/*!
 * OverlayScrollbars
 * Version: 2.10.1
 *
 * Copyright (c) Rene Haas | KingSora.
 * https://github.com/KingSora
 *
 * Released under the MIT license.
 */const he=(n,t)=>{const{o,i:s,u:r}=n;let l=o,i;const c=(m,u)=>{const v=l,f=m,_=u||(s?!s(v,f):v!==f);return(_||r)&&(l=f,i=v),[l,_,i]};return[t?m=>c(t(l,i),m):c,m=>[l,!!m,i]]},Dr=typeof window<"u"&&typeof HTMLElement<"u"&&!!window.document,pe=Dr?window:{},uo=Math.max,Tr=Math.min,rn=Math.round,Dt=Math.abs,qn=Math.sign,mo=pe.cancelAnimationFrame,wn=pe.requestAnimationFrame,Tt=pe.setTimeout,sn=pe.clearTimeout,Pt=n=>typeof pe[n]<"u"?pe[n]:void 0,Ar=Pt("MutationObserver"),Un=Pt("IntersectionObserver"),At=Pt("ResizeObserver"),Ct=Pt("ScrollTimeline"),En=n=>n===void 0,Rt=n=>n===null,xe=n=>typeof n=="number",ut=n=>typeof n=="string",Sn=n=>typeof n=="boolean",we=n=>typeof n=="function",Be=n=>Array.isArray(n),Mt=n=>typeof n=="object"&&!Be(n)&&!Rt(n),Vn=n=>{const t=!!n&&n.length,o=xe(t)&&t>-1&&t%1==0;return Be(n)||!we(n)&&o?t>0&&Mt(n)?t-1 in n:!0:!1},Ot=n=>!!n&&n.constructor===Object,Ft=n=>n instanceof HTMLElement,qt=n=>n instanceof Element;function X(n,t){if(Vn(n))for(let o=0;o<n.length&&t(n[o],o,n)!==!1;o++);else n&&X(Object.keys(n),o=>t(n[o],o,n));return n}const fo=(n,t)=>n.indexOf(t)>=0,it=(n,t)=>n.concat(t),oe=(n,t,o)=>(!ut(t)&&Vn(t)?Array.prototype.push.apply(n,t):n.push(t),n),He=n=>Array.from(n||[]),Nn=n=>Be(n)?n:!ut(n)&&Vn(n)?He(n):[n],ln=n=>!!n&&!n.length,an=n=>He(new Set(n)),ye=(n,t,o)=>{X(n,r=>r?r.apply(void 0,t||[]):!0),!o&&(n.length=0)},vo="paddingTop",_o="paddingRight",po="paddingLeft",ho="paddingBottom",go="marginLeft",bo="marginRight",yo="marginBottom",ko="overflowX",wo="overflowY",Ut="width",zt="height",Ue="visible",Ke="hidden",et="scroll",Mr=n=>{const t=String(n||"");return t?t[0].toUpperCase()+t.slice(1):""},Ht=(n,t,o,s)=>{if(n&&t){let r=!0;return X(o,l=>{const i=n[l],c=t[l];i!==c&&(r=!1)}),r}return!1},Eo=(n,t)=>Ht(n,t,["w","h"]),xt=(n,t)=>Ht(n,t,["x","y"]),Or=(n,t)=>Ht(n,t,["t","r","b","l"]),We=()=>{},z=(n,...t)=>n.bind(0,...t),Xe=n=>{let t;const o=n?Tt:wn,s=n?sn:mo;return[r=>{s(t),t=o(()=>r(),we(n)?n():n)},()=>s(t)]},cn=(n,t)=>{const{_:o,p:s,v:r,S:l}=t||{};let i,c,a,d,m=We;const u=function(k){m(),sn(i),d=i=c=void 0,m=We,n.apply(this,k)},v=b=>l&&c?l(c,b):b,f=()=>{m!==We&&u(v(a)||a)},_=function(){const k=He(arguments),V=we(o)?o():o;if(xe(V)&&V>=0){const N=we(s)?s():s,w=xe(N)&&N>=0,x=V>0?Tt:wn,D=V>0?sn:mo,$=v(k)||k,p=u.bind(0,$);let h;m(),r&&!d?(p(),d=!0,h=x(()=>d=void 0,V)):(h=x(p,V),w&&!i&&(i=Tt(f,N))),m=()=>D(h),c=a=$}else u(k)};return _.m=f,_},So=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),Se=n=>n?Object.keys(n):[],Y=(n,t,o,s,r,l,i)=>{const c=[t,o,s,r,l,i];return(typeof n!="object"||Rt(n))&&!we(n)&&(n={}),X(c,a=>{X(a,(d,m)=>{const u=a[m];if(n===u)return!0;const v=Be(u);if(u&&Ot(u)){const f=n[m];let _=f;v&&!Be(f)?_=[]:!v&&!Ot(f)&&(_={}),n[m]=Y(_,u)}else n[m]=v?u.slice():u})}),n},Vo=(n,t)=>X(Y({},n),(o,s,r)=>{o===void 0?delete r[s]:o&&Ot(o)&&(r[s]=Vo(o))}),Cn=n=>!Se(n).length,No=(n,t,o)=>uo(n,Tr(t,o)),Ge=n=>an((Be(n)?n:(n||"").split(" ")).filter(t=>t)),xn=(n,t)=>n&&n.getAttribute(t),zn=(n,t)=>n&&n.hasAttribute(t),Oe=(n,t,o)=>{X(Ge(t),s=>{n&&n.setAttribute(s,String(o||""))})},Ne=(n,t)=>{X(Ge(t),o=>n&&n.removeAttribute(o))},jt=(n,t)=>{const o=Ge(xn(n,t)),s=z(Oe,n,t),r=(l,i)=>{const c=new Set(o);return X(Ge(l),a=>{c[i](a)}),He(c).join(" ")};return{O:l=>s(r(l,"delete")),$:l=>s(r(l,"add")),C:l=>{const i=Ge(l);return i.reduce((c,a)=>c&&o.includes(a),i.length>0)}}},Co=(n,t,o)=>(jt(n,t).O(o),z(Bn,n,t,o)),Bn=(n,t,o)=>(jt(n,t).$(o),z(Co,n,t,o)),Lt=(n,t,o,s)=>(s?Bn:Co)(n,t,o),$n=(n,t,o)=>jt(n,t).C(o),xo=n=>jt(n,"class"),Bo=(n,t)=>{xo(n).O(t)},Dn=(n,t)=>(xo(n).$(t),z(Bo,n,t)),$o=(n,t)=>{const o=t?qt(t)&&t:document;return o?He(o.querySelectorAll(n)):[]},Fr=(n,t)=>{const o=t?qt(t)&&t:document;return o&&o.querySelector(n)},dn=(n,t)=>qt(n)&&n.matches(t),Do=n=>dn(n,"body"),un=n=>n?He(n.childNodes):[],ct=n=>n&&n.parentElement,Ze=(n,t)=>qt(n)&&n.closest(t),mn=n=>document.activeElement,Lr=(n,t,o)=>{const s=Ze(n,t),r=n&&Fr(o,s),l=Ze(r,t)===s;return s&&r?s===n||r===n||l&&Ze(Ze(n,o),t)!==s:!1},tt=n=>{X(Nn(n),t=>{const o=ct(t);t&&o&&o.removeChild(t)})},ge=(n,t)=>z(tt,n&&t&&X(Nn(t),o=>{o&&n.appendChild(o)})),Je=n=>{const t=document.createElement("div");return Oe(t,"class",n),t},To=n=>{const t=Je();return t.innerHTML=n.trim(),X(un(t),o=>tt(o))},Hn=(n,t)=>n.getPropertyValue(t)||n[t]||"",Ao=n=>{const t=n||0;return isFinite(t)?t:0},St=n=>Ao(parseFloat(n||"")),fn=n=>Math.round(n*1e4)/1e4,Mo=n=>`${fn(Ao(n))}px`;function dt(n,t){n&&t&&X(t,(o,s)=>{try{const r=n.style,l=Rt(o)||Sn(o)?"":xe(o)?Mo(o):o;s.indexOf("--")===0?r.setProperty(s,l):r[s]=l}catch{}})}function Le(n,t,o){const s=ut(t);let r=s?"":{};if(n){const l=pe.getComputedStyle(n,o)||n.style;r=s?Hn(l,t):He(t).reduce((i,c)=>(i[c]=Hn(l,c),i),r)}return r}const jn=(n,t,o)=>{const s=t?`${t}-`:"",r=o?`-${o}`:"",l=`${s}top${r}`,i=`${s}right${r}`,c=`${s}bottom${r}`,a=`${s}left${r}`,d=Le(n,[l,i,c,a]);return{t:St(d[l]),r:St(d[i]),b:St(d[c]),l:St(d[a])}},Ir=(n,t)=>`translate${Mt(n)?`(${n.x},${n.y})`:`Y(${n})`}`,Pr=n=>!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length),Rr={w:0,h:0},Kt=(n,t)=>t?{w:t[`${n}Width`],h:t[`${n}Height`]}:Rr,qr=n=>Kt("inner",n||pe),Qe=z(Kt,"offset"),Oo=z(Kt,"client"),It=z(Kt,"scroll"),Tn=n=>{const t=parseFloat(Le(n,Ut))||0,o=parseFloat(Le(n,zt))||0;return{w:t-rn(t),h:o-rn(o)}},Qt=n=>n.getBoundingClientRect(),Ur=n=>!!n&&Pr(n),vn=n=>!!(n&&(n[zt]||n[Ut])),Fo=(n,t)=>{const o=vn(n);return!vn(t)&&o},Kn=(n,t,o,s)=>{X(Ge(t),r=>{n&&n.removeEventListener(r,o,s)})},ee=(n,t,o,s)=>{var r;const l=(r=s&&s.H)!=null?r:!0,i=s&&s.I||!1,c=s&&s.A||!1,a={passive:l,capture:i};return z(ye,Ge(t).map(d=>{const m=c?u=>{Kn(n,d,m,i),o&&o(u)}:o;return n&&n.addEventListener(d,m,a),z(Kn,n,d,m,i)}))},Lo=n=>n.stopPropagation(),_n=n=>n.preventDefault(),Io=n=>Lo(n)||_n(n),Ce=(n,t)=>{const{x:o,y:s}=xe(t)?{x:t,y:t}:t||{};xe(o)&&(n.scrollLeft=o),xe(s)&&(n.scrollTop=s)},be=n=>({x:n.scrollLeft,y:n.scrollTop}),Po=()=>({D:{x:0,y:0},M:{x:0,y:0}}),zr=(n,t)=>{const{D:o,M:s}=n,{w:r,h:l}=t,i=(u,v,f)=>{let _=qn(u)*f,b=qn(v)*f;if(_===b){const k=Dt(u),V=Dt(v);b=k>V?0:b,_=k<V?0:_}return _=_===b?0:_,[_+0,b+0]},[c,a]=i(o.x,s.x,r),[d,m]=i(o.y,s.y,l);return{D:{x:c,y:d},M:{x:a,y:m}}},Wn=({D:n,M:t})=>{const o=(s,r)=>s===0&&s<=r;return{x:o(n.x,t.x),y:o(n.y,t.y)}},Gn=({D:n,M:t},o)=>{const s=(r,l,i)=>No(0,1,(r-i)/(r-l)||0);return{x:s(n.x,t.x,o.x),y:s(n.y,t.y,o.y)}},pn=n=>{n&&n.focus&&n.focus({preventScroll:!0})},Yn=(n,t)=>{X(Nn(t),n)},hn=n=>{const t=new Map,o=(l,i)=>{if(l){const c=t.get(l);Yn(a=>{c&&c[a?"delete":"clear"](a)},i)}else t.forEach(c=>{c.clear()}),t.clear()},s=(l,i)=>{if(ut(l)){const d=t.get(l)||new Set;return t.set(l,d),Yn(m=>{we(m)&&d.add(m)},i),z(o,l,i)}Sn(i)&&i&&o();const c=Se(l),a=[];return X(c,d=>{const m=l[d];m&&oe(a,s(d,m))}),z(ye,a)},r=(l,i)=>{X(He(t.get(l)),c=>{i&&!ln(i)?c.apply(0,i):c()})};return s(n||{}),[s,o,r]},Ro={},qo={},Hr=n=>{X(n,t=>X(t,(o,s)=>{Ro[s]=t[s]}))},Uo=(n,t,o)=>Se(n).map(s=>{const{static:r,instance:l}=n[s],[i,c,a]=o||[],d=o?l:r;if(d){const m=o?d(i,c,t):d(t);return(a||qo)[s]=m}}),mt=n=>qo[n],jr="__osOptionsValidationPlugin",ot="data-overlayscrollbars",Bt="os-environment",Vt=`${Bt}-scrollbar-hidden`,en=`${ot}-initialize`,$t="noClipping",Xn=`${ot}-body`,ze=ot,Kr="host",Fe=`${ot}-viewport`,Wr=ko,Gr=wo,Yr="arrange",zo="measuring",Xr="scrolling",Ho="scrollbarHidden",Zr="noContent",gn=`${ot}-padding`,Zn=`${ot}-content`,An="os-size-observer",Jr=`${An}-appear`,Qr=`${An}-listener`,es="os-trinsic-observer",ts="os-theme-none",ke="os-scrollbar",ns=`${ke}-rtl`,os=`${ke}-horizontal`,rs=`${ke}-vertical`,jo=`${ke}-track`,Mn=`${ke}-handle`,ss=`${ke}-visible`,ls=`${ke}-cornerless`,Jn=`${ke}-interaction`,Qn=`${ke}-unusable`,bn=`${ke}-auto-hide`,eo=`${bn}-hidden`,to=`${ke}-wheel`,as=`${jo}-interactive`,is=`${Mn}-interactive`,cs="__osSizeObserverPlugin",ds=(n,t)=>{const{T:o}=t,[s,r]=n("showNativeOverlaidScrollbars");return[s&&o.x&&o.y,r]},nt=n=>n.indexOf(Ue)===0,us=(n,t)=>{const o=(r,l,i,c)=>{const a=r===Ue?Ke:r.replace(`${Ue}-`,""),d=nt(r),m=nt(i);return!l&&!c?Ke:d&&m?Ue:d?l&&c?a:l?Ue:Ke:l?a:m&&c?Ue:Ke},s={x:o(t.x,n.x,t.y,n.y),y:o(t.y,n.y,t.x,n.x)};return{k:s,R:{x:s.x===et,y:s.y===et}}},Ko="__osScrollbarsHidingPlugin",ms="__osClickScrollPlugin",no=n=>JSON.stringify(n,(t,o)=>{if(we(o))throw 0;return o}),oo=(n,t)=>n?`${t}`.split(".").reduce((o,s)=>o&&So(o,s)?o[s]:void 0,n):void 0,fs={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,autoHideSuspend:!1,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},Wo=(n,t)=>{const o={},s=it(Se(t),Se(n));return X(s,r=>{const l=n[r],i=t[r];if(Mt(l)&&Mt(i))Y(o[r]={},Wo(l,i)),Cn(o[r])&&delete o[r];else if(So(t,r)&&i!==l){let c=!0;if(Be(l)||Be(i))try{no(l)===no(i)&&(c=!1)}catch{}c&&(o[r]=i)}}),o},ro=(n,t,o)=>s=>[oo(n,s),o||oo(t,s)!==void 0];let Go;const vs=()=>Go,_s=n=>{Go=n};let tn;const ps=()=>{const n=(w,x,D)=>{ge(document.body,w),ge(document.body,w);const L=Oo(w),$=Qe(w),p=Tn(x);return D&&tt(w),{x:$.h-L.h+p.h,y:$.w-L.w+p.w}},t=w=>{let x=!1;const D=Dn(w,Vt);try{x=Le(w,"scrollbar-width")==="none"||Le(w,"display","::-webkit-scrollbar")==="none"}catch{}return D(),x},o=`.${Bt}{scroll-behavior:auto!important;position:fixed;opacity:0;visibility:hidden;overflow:scroll;height:200px;width:200px;z-index:-1}.${Bt} div{width:200%;height:200%;margin:10px 0}.${Vt}{scrollbar-width:none!important}.${Vt}::-webkit-scrollbar,.${Vt}::-webkit-scrollbar-corner{appearance:none!important;display:none!important;width:0!important;height:0!important}`,r=To(`<div class="${Bt}"><div></div><style>${o}</style></div>`)[0],l=r.firstChild,i=r.lastChild,c=vs();c&&(i.nonce=c);const[a,,d]=hn(),[m,u]=he({o:n(r,l),i:xt},z(n,r,l,!0)),[v]=u(),f=t(r),_={x:v.x===0,y:v.y===0},b={elements:{host:null,padding:!f,viewport:w=>f&&Do(w)&&w,content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},k=Y({},fs),V=z(Y,{},k),T=z(Y,{},b),N={N:v,T:_,P:f,G:!!Ct,K:z(a,"r"),Z:T,tt:w=>Y(b,w)&&T(),nt:V,ot:w=>Y(k,w)&&V(),st:Y({},b),et:Y({},k)};if(Ne(r,"style"),tt(r),ee(pe,"resize",()=>{d("r",[])}),we(pe.matchMedia)&&!f&&(!_.x||!_.y)){const w=x=>{const D=pe.matchMedia(`(resolution: ${pe.devicePixelRatio}dppx)`);ee(D,"change",()=>{x(),w(x)},{A:!0})};w(()=>{const[x,D]=m();Y(N.N,x),d("r",[D])})}return N},De=()=>(tn||(tn=ps()),tn),hs=(n,t,o)=>{let s=!1;const r=o?new WeakMap:!1,l=()=>{s=!0},i=c=>{if(r&&o){const a=o.map(d=>{const[m,u]=d||[];return[u&&m?(c||$o)(m,n):[],u]});X(a,d=>X(d[0],m=>{const u=d[1],v=r.get(m)||[];if(n.contains(m)&&u){const _=ee(m,u,b=>{s?(_(),r.delete(m)):t(b)});r.set(m,oe(v,_))}else ye(v),r.delete(m)}))}};return i(),[l,i]},so=(n,t,o,s)=>{let r=!1;const{ct:l,rt:i,lt:c,it:a,ut:d,_t:m}=s||{},u=cn(()=>r&&o(!0),{_:33,p:99}),[v,f]=hs(n,u,c),_=l||[],b=i||[],k=it(_,b),V=(N,w)=>{if(!ln(w)){const x=d||We,D=m||We,L=[],$=[];let p=!1,h=!1;if(X(w,B=>{const{attributeName:g,target:A,type:y,oldValue:M,addedNodes:F,removedNodes:H}=B,G=y==="attributes",E=y==="childList",te=n===A,U=G&&g,S=U&&xn(A,g||""),O=ut(S)?S:null,I=U&&M!==O,C=fo(b,g)&&I;if(t&&(E||!te)){const R=G&&I,P=R&&a&&dn(A,a),W=(P?!x(A,g,M,O):!G||R)&&!D(B,!!P,n,s);X(F,Z=>oe(L,Z)),X(H,Z=>oe(L,Z)),h=h||W}!t&&te&&I&&!x(A,g,M,O)&&(oe($,g),p=p||C)}),f(B=>an(L).reduce((g,A)=>(oe(g,$o(B,A)),dn(A,B)?oe(g,A):g),[])),t)return!N&&h&&o(!1),[!1];if(!ln($)||p){const B=[an($),p];return!N&&o.apply(0,B),B}}},T=new Ar(z(V,!1));return[()=>(T.observe(n,{attributes:!0,attributeOldValue:!0,attributeFilter:k,subtree:t,childList:t,characterData:t}),r=!0,()=>{r&&(v(),T.disconnect(),r=!1)}),()=>{if(r)return u.m(),V(!0,T.takeRecords())}]},Yo=(n,t,o)=>{const{dt:s}=o||{},r=mt(cs),[l]=he({o:!1,u:!0});return()=>{const i=[],a=To(`<div class="${An}"><div class="${Qr}"></div></div>`)[0],d=a.firstChild,m=u=>{const v=u instanceof ResizeObserverEntry;let f=!1,_=!1;if(v){const[b,,k]=l(u.contentRect),V=vn(b);_=Fo(b,k),f=!_&&!V}else _=u===!0;f||t({ft:!0,dt:_})};if(At){const u=new At(v=>m(v.pop()));u.observe(d),oe(i,()=>{u.disconnect()})}else if(r){const[u,v]=r(d,m,s);oe(i,it([Dn(a,Jr),ee(a,"animationstart",u)],v))}else return We;return z(ye,oe(i,ge(n,a)))}},gs=(n,t)=>{let o;const s=a=>a.h===0||a.isIntersecting||a.intersectionRatio>0,r=Je(es),[l]=he({o:!1}),i=(a,d)=>{if(a){const m=l(s(a)),[,u]=m;return u&&!d&&t(m)&&[m]}},c=(a,d)=>i(d.pop(),a);return[()=>{const a=[];if(Un)o=new Un(z(c,!1),{root:n}),o.observe(r),oe(a,()=>{o.disconnect()});else{const d=()=>{const m=Qe(r);i(m)};oe(a,Yo(r,d)()),d()}return z(ye,oe(a,ge(n,r)))},()=>o&&c(!0,o.takeRecords())]},bs=(n,t,o,s)=>{let r,l,i,c,a,d;const m=`[${ze}]`,u=`[${Fe}]`,v=["id","class","style","open","wrap","cols","rows"],{vt:f,ht:_,U:b,gt:k,bt:V,L:T,wt:N,yt:w,St:x,Ot:D}=n,L=C=>Le(C,"direction")==="rtl",$={$t:!1,F:L(f)},p=De(),h=mt(Ko),[B]=he({i:Eo,o:{w:0,h:0}},()=>{const C=h&&h.V(n,t,$,p,o).X,P=!(N&&T)&&$n(_,ze,$t),q=!T&&w(Yr),W=q&&be(k),Z=W&&D(),ae=x(zo,P),re=q&&C&&C()[0],me=It(b),K=Tn(b);return re&&re(),Ce(k,W),Z&&Z(),P&&ae(),{w:me.w+K.w,h:me.h+K.h}}),g=cn(s,{_:()=>r,p:()=>l,S(C,R){const[P]=C,[q]=R;return[it(Se(P),Se(q)).reduce((W,Z)=>(W[Z]=P[Z]||q[Z],W),{})]}}),A=C=>{const R=L(f);Y(C,{Ct:d!==R}),Y($,{F:R}),d=R},y=(C,R)=>{const[P,q]=C,W={xt:q};return Y($,{$t:P}),!R&&s(W),W},M=({ft:C,dt:R})=>{const q=!(C&&!R)&&p.P?g:s,W={ft:C||R,dt:R};A(W),q(W)},F=(C,R)=>{const[,P]=B(),q={Ht:P};return A(q),P&&!R&&(C?s:g)(q),q},H=(C,R,P)=>{const q={Et:R};return A(q),R&&!P&&g(q),q},[G,E]=V?gs(_,y):[],te=!T&&Yo(_,M,{dt:!0}),[U,S]=so(_,!1,H,{rt:v,ct:v}),O=T&&At&&new At(C=>{const R=C[C.length-1].contentRect;M({ft:!0,dt:Fo(R,a)}),a=R}),I=cn(()=>{const[,C]=B();s({Ht:C})},{_:222,v:!0});return[()=>{O&&O.observe(_);const C=te&&te(),R=G&&G(),P=U(),q=p.K(W=>{W?g({zt:W}):I()});return()=>{O&&O.disconnect(),C&&C(),R&&R(),c&&c(),P(),q()}},({It:C,At:R,Dt:P})=>{const q={},[W]=C("update.ignoreMutation"),[Z,ae]=C("update.attributes"),[re,me]=C("update.elementEvents"),[K,ie]=C("update.debounce"),_e=me||ae,ce=R||P,de=se=>we(W)&&W(se);if(_e){i&&i(),c&&c();const[se,le]=so(V||b,!0,F,{ct:it(v,Z||[]),lt:re,it:m,_t:(ne,J)=>{const{target:ue,attributeName:ve}=ne;return(!J&&ve&&!T?Lr(ue,m,u):!1)||!!Ze(ue,`.${ke}`)||!!de(ne)}});c=se(),i=le}if(ie)if(g.m(),Be(K)){const se=K[0],le=K[1];r=xe(se)&&se,l=xe(le)&&le}else xe(K)?(r=K,l=!1):(r=!1,l=!1);if(ce){const se=S(),le=E&&E(),ne=i&&i();se&&Y(q,H(se[0],se[1],ce)),le&&Y(q,y(le[0],ce)),ne&&Y(q,F(ne[0],ce))}return A(q),q},$]},Xo=(n,t)=>we(t)?t.apply(0,n):t,ys=(n,t,o,s)=>{const r=En(s)?o:s;return Xo(n,r)||t.apply(0,n)},Zo=(n,t,o,s)=>{const r=En(s)?o:s,l=Xo(n,r);return!!l&&(Ft(l)?l:t.apply(0,n))},ks=(n,t)=>{const{nativeScrollbarsOverlaid:o,body:s}=t||{},{T:r,P:l,Z:i}=De(),{nativeScrollbarsOverlaid:c,body:a}=i().cancel,d=o??c,m=En(s)?a:s,u=(r.x||r.y)&&d,v=n&&(Rt(m)?!l:m);return!!u||!!v},ws=(n,t,o,s)=>{const r="--os-viewport-percent",l="--os-scroll-percent",i="--os-scroll-direction",{Z:c}=De(),{scrollbars:a}=c(),{slot:d}=a,{vt:m,ht:u,U:v,Mt:f,gt:_,wt:b,L:k}=t,{scrollbars:V}=f?{}:n,{slot:T}=V||{},N=[],w=[],x=[],D=Zo([m,u,v],()=>k&&b?m:u,d,T),L=U=>{if(Ct){const S=new Ct({source:_,axis:U});return{kt:I=>{const C=I.Tt.animate({clear:["left"],[l]:[0,1]},{timeline:S});return()=>C.cancel()}}}},$={x:L("x"),y:L("y")},p=()=>{const{Rt:U,Vt:S}=o,O=(I,C)=>No(0,1,I/(I+C)||0);return{x:O(S.x,U.x),y:O(S.y,U.y)}},h=(U,S,O)=>{const I=O?Dn:Bo;X(U,C=>{I(C.Tt,S)})},B=(U,S)=>{X(U,O=>{const[I,C]=S(O);dt(I,C)})},g=(U,S,O)=>{const I=Sn(O),C=I?O:!0,R=I?!O:!0;C&&h(w,U,S),R&&h(x,U,S)},A=()=>{const U=p(),S=O=>I=>[I.Tt,{[r]:fn(O)+""}];B(w,S(U.x)),B(x,S(U.y))},y=()=>{if(!Ct){const{Lt:U}=o,S=Gn(U,be(_)),O=I=>C=>[C.Tt,{[l]:fn(I)+""}];B(w,O(S.x)),B(x,O(S.y))}},M=()=>{const{Lt:U}=o,S=Wn(U),O=I=>C=>[C.Tt,{[i]:I?"0":"1"}];B(w,O(S.x)),B(x,O(S.y))},F=()=>{if(k&&!b){const{Rt:U,Lt:S}=o,O=Wn(S),I=Gn(S,be(_)),C=R=>{const{Tt:P}=R,q=ct(P)===v&&P,W=(Z,ae,re)=>{const me=ae*Z;return Mo(re?me:-me)};return[q,q&&{transform:Ir({x:W(I.x,U.x,O.x),y:W(I.y,U.y,O.y)})}]};B(w,C),B(x,C)}},H=U=>{const S=U?"x":"y",I=Je(`${ke} ${U?os:rs}`),C=Je(jo),R=Je(Mn),P={Tt:I,Ut:C,Pt:R},q=$[S];return oe(U?w:x,P),oe(N,[ge(I,C),ge(C,R),z(tt,I),q&&q.kt(P),s(P,g,U)]),P},G=z(H,!0),E=z(H,!1),te=()=>(ge(D,w[0].Tt),ge(D,x[0].Tt),z(ye,N));return G(),E(),[{Nt:A,qt:y,Bt:M,Ft:F,jt:g,Yt:{Wt:w,Xt:G,Jt:z(B,w)},Gt:{Wt:x,Xt:E,Jt:z(B,x)}},te]},Es=(n,t,o,s)=>(r,l,i)=>{const{ht:c,U:a,L:d,gt:m,Kt:u,Ot:v}=t,{Tt:f,Ut:_,Pt:b}=r,[k,V]=Xe(333),[T,N]=Xe(444),w=L=>{we(m.scrollBy)&&m.scrollBy({behavior:"smooth",left:L.x,top:L.y})},x=()=>{const L="pointerup pointercancel lostpointercapture",$=`client${i?"X":"Y"}`,p=i?Ut:zt,h=i?"left":"top",B=i?"w":"h",g=i?"x":"y",A=(M,F)=>H=>{const{Rt:G}=o,E=Qe(_)[B]-Qe(b)[B],U=F*H/E*G[g];Ce(m,{[g]:M+U})},y=[];return ee(_,"pointerdown",M=>{const F=Ze(M.target,`.${Mn}`)===b,H=F?b:_,G=n.scrollbars,E=G[F?"dragScroll":"clickScroll"],{button:te,isPrimary:U,pointerType:S}=M,{pointers:O}=G;if(te===0&&U&&E&&(O||[]).includes(S)){ye(y),N();const C=!F&&(M.shiftKey||E==="instant"),R=z(Qt,b),P=z(Qt,_),q=(J,ue)=>(J||R())[h]-(ue||P())[h],W=rn(Qt(m)[p])/Qe(m)[B]||1,Z=A(be(m)[g],1/W),ae=M[$],re=R(),me=P(),K=re[p],ie=q(re,me)+K/2,_e=ae-me[h],ce=F?0:_e-ie,de=J=>{ye(ne),H.releasePointerCapture(J.pointerId)},se=F||C,le=v(),ne=[ee(u,L,de),ee(u,"selectstart",J=>_n(J),{H:!1}),ee(_,L,de),se&&ee(_,"pointermove",J=>Z(ce+(J[$]-ae))),se&&(()=>{const J=be(m);le();const ue=be(m),ve={x:ue.x-J.x,y:ue.y-J.y};(Dt(ve.x)>3||Dt(ve.y)>3)&&(v(),Ce(m,J),w(ve),T(le))})];if(H.setPointerCapture(M.pointerId),C)Z(ce);else if(!F){const J=mt(ms);if(J){const ue=J(Z,ce,K,ve=>{ve?le():oe(ne,le)});oe(ne,ue),oe(y,z(ue,!0))}}}})};let D=!0;return z(ye,[ee(b,"pointermove pointerleave",s),ee(f,"pointerenter",()=>{l(Jn,!0)}),ee(f,"pointerleave pointercancel",()=>{l(Jn,!1)}),!d&&ee(f,"mousedown",()=>{const L=mn();(zn(L,Fe)||zn(L,ze)||L===document.body)&&Tt(z(pn,a),25)}),ee(f,"wheel",L=>{const{deltaX:$,deltaY:p,deltaMode:h}=L;D&&h===0&&ct(f)===c&&w({x:$,y:p}),D=!1,l(to,!0),k(()=>{D=!0,l(to)}),_n(L)},{H:!1,I:!0}),ee(f,"pointerdown",z(ee,u,"click",Io,{A:!0,I:!0,H:!1}),{I:!0}),x(),V,N])},Ss=(n,t,o,s,r,l)=>{let i,c,a,d,m,u=We,v=0;const f=["mouse","pen"],_=S=>f.includes(S.pointerType),[b,k]=Xe(),[V,T]=Xe(100),[N,w]=Xe(100),[x,D]=Xe(()=>v),[L,$]=ws(n,r,s,Es(t,r,s,S=>_(S)&&G())),{ht:p,Qt:h,wt:B}=r,{jt:g,Nt:A,qt:y,Bt:M,Ft:F}=L,H=(S,O)=>{if(D(),S)g(eo);else{const I=z(g,eo,!0);v>0&&!O?x(I):I()}},G=()=>{(a?!i:!d)&&(H(!0),V(()=>{H(!1)}))},E=S=>{g(bn,S,!0),g(bn,S,!1)},te=S=>{_(S)&&(i=a,a&&H(!0))},U=[D,T,w,k,()=>u(),ee(p,"pointerover",te,{A:!0}),ee(p,"pointerenter",te),ee(p,"pointerleave",S=>{_(S)&&(i=!1,a&&H(!1))}),ee(p,"pointermove",S=>{_(S)&&c&&G()}),ee(h,"scroll",S=>{b(()=>{y(),G()}),l(S),F()})];return[()=>z(ye,oe(U,$())),({It:S,Dt:O,Zt:I,tn:C})=>{const{nn:R,sn:P,en:q,cn:W}=C||{},{Ct:Z,dt:ae}=I||{},{F:re}=o,{T:me}=De(),{k:K,rn:ie}=s,[_e,ce]=S("showNativeOverlaidScrollbars"),[de,se]=S("scrollbars.theme"),[le,ne]=S("scrollbars.visibility"),[J,ue]=S("scrollbars.autoHide"),[ve,rt]=S("scrollbars.autoHideSuspend"),[ft]=S("scrollbars.autoHideDelay"),[vt,_t]=S("scrollbars.dragScroll"),[je,st]=S("scrollbars.clickScroll"),[pt,Wt]=S("overflow"),Gt=ae&&!O,Yt=ie.x||ie.y,Ve=R||P||W||Z||O,Xt=q||ne||Wt,ht=_e&&me.x&&me.y,gt=(Re,lt,at)=>{const bt=Re.includes(et)&&(le===Ue||le==="auto"&&lt===et);return g(ss,bt,at),bt};if(v=ft,Gt&&(ve&&Yt?(E(!1),u(),N(()=>{u=ee(h,"scroll",z(E,!0),{A:!0})})):E(!0)),ce&&g(ts,ht),se&&(g(m),g(de,!0),m=de),rt&&!ve&&E(!0),ue&&(c=J==="move",a=J==="leave",d=J==="never",H(d,!0)),_t&&g(is,vt),st&&g(as,!!je),Xt){const Re=gt(pt.x,K.x,!0),lt=gt(pt.y,K.y,!1);g(ls,!(Re&&lt))}Ve&&(y(),A(),F(),W&&M(),g(Qn,!ie.x,!0),g(Qn,!ie.y,!1),g(ns,re&&!B))},{},L]},Vs=n=>{const t=De(),{Z:o,P:s}=t,{elements:r}=o(),{padding:l,viewport:i,content:c}=r,a=Ft(n),d=a?{}:n,{elements:m}=d,{padding:u,viewport:v,content:f}=m||{},_=a?n:d.target,b=Do(_),k=_.ownerDocument,V=k.documentElement,T=()=>k.defaultView||pe,N=z(ys,[_]),w=z(Zo,[_]),x=z(Je,""),D=z(N,x,i),L=z(w,x,c),$=K=>{const ie=Qe(K),_e=It(K),ce=Le(K,ko),de=Le(K,wo);return _e.w-ie.w>0&&!nt(ce)||_e.h-ie.h>0&&!nt(de)},p=D(v),h=p===_,B=h&&b,g=!h&&L(f),A=!h&&p===g,y=B?V:p,M=B?y:_,F=!h&&w(x,l,u),H=!A&&g,G=[H,y,F,M].map(K=>Ft(K)&&!ct(K)&&K),E=K=>K&&fo(G,K),te=!E(y)&&$(y)?y:_,U=B?V:y,O={vt:_,ht:M,U:y,ln:F,bt:H,gt:U,Qt:B?k:y,an:b?V:te,Kt:k,wt:b,Mt:a,L:h,un:T,yt:K=>$n(y,Fe,K),St:(K,ie)=>Lt(y,Fe,K,ie),Ot:()=>Lt(U,Fe,Xr,!0)},{vt:I,ht:C,ln:R,U:P,bt:q}=O,W=[()=>{Ne(C,[ze,en]),Ne(I,en),b&&Ne(V,[en,ze])}];let Z=un([q,P,R,C,I].find(K=>K&&!E(K)));const ae=B?I:q||P,re=z(ye,W);return[O,()=>{const K=T(),ie=mn(),_e=ne=>{ge(ct(ne),un(ne)),tt(ne)},ce=ne=>ee(ne,"focusin focusout focus blur",Io,{I:!0,H:!1}),de="tabindex",se=xn(P,de),le=ce(ie);return Oe(C,ze,h?"":Kr),Oe(R,gn,""),Oe(P,Fe,""),Oe(q,Zn,""),h||(Oe(P,de,se||"-1"),b&&Oe(V,Xn,"")),ge(ae,Z),ge(C,R),ge(R||C,!h&&P),ge(P,q),oe(W,[le,()=>{const ne=mn(),J=E(P),ue=J&&ne===P?I:ne,ve=ce(ue);Ne(R,gn),Ne(q,Zn),Ne(P,Fe),b&&Ne(V,Xn),se?Oe(P,de,se):Ne(P,de),E(q)&&_e(q),J&&_e(P),E(R)&&_e(R),pn(ue),ve()}]),s&&!h&&(Bn(P,Fe,Ho),oe(W,z(Ne,P,Fe))),pn(!h&&b&&ie===I&&K.top===K?P:ie),le(),Z=0,re},re]},Ns=({bt:n})=>({Zt:t,_n:o,Dt:s})=>{const{xt:r}=t||{},{$t:l}=o;n&&(r||s)&&dt(n,{[zt]:l&&"100%"})},Cs=({ht:n,ln:t,U:o,L:s},r)=>{const[l,i]=he({i:Or,o:jn()},z(jn,n,"padding",""));return({It:c,Zt:a,_n:d,Dt:m})=>{let[u,v]=i(m);const{P:f}=De(),{ft:_,Ht:b,Ct:k}=a||{},{F:V}=d,[T,N]=c("paddingAbsolute");(_||v||(m||b))&&([u,v]=l(m));const x=!s&&(N||k||v);if(x){const D=!T||!t&&!f,L=u.r+u.l,$=u.t+u.b,p={[bo]:D&&!V?-L:0,[yo]:D?-$:0,[go]:D&&V?-L:0,top:D?-u.t:0,right:D?V?-u.r:"auto":0,left:D?V?"auto":-u.l:0,[Ut]:D&&`calc(100% + ${L}px)`},h={[vo]:D?u.t:0,[_o]:D?u.r:0,[ho]:D?u.b:0,[po]:D?u.l:0};dt(t||o,p),dt(o,h),Y(r,{ln:u,dn:!D,j:t?h:Y({},p,h)})}return{fn:x}}},xs=(n,t)=>{const o=De(),{ht:s,ln:r,U:l,L:i,Qt:c,gt:a,wt:d,St:m,un:u}=n,{P:v}=o,f=d&&i,_=z(uo,0),b={display:()=>!1,direction:S=>S!=="ltr",flexDirection:S=>S.endsWith("-reverse"),writingMode:S=>S!=="horizontal-tb"},k=Se(b),V={i:Eo,o:{w:0,h:0}},T={i:xt,o:{}},N=S=>{m(zo,!f&&S)},w=S=>{if(!k.some(ae=>{const re=S[ae];return re&&b[ae](re)}))return{D:{x:0,y:0},M:{x:1,y:1}};N(!0);const I=be(a),C=m(Zr,!0),R=ee(c,et,ae=>{const re=be(a);ae.isTrusted&&re.x===I.x&&re.y===I.y&&Lo(ae)},{I:!0,A:!0});Ce(a,{x:0,y:0}),C();const P=be(a),q=It(a);Ce(a,{x:q.w,y:q.h});const W=be(a);Ce(a,{x:W.x-P.x<1&&-q.w,y:W.y-P.y<1&&-q.h});const Z=be(a);return Ce(a,I),wn(()=>R()),{D:P,M:Z}},x=(S,O)=>{const I=pe.devicePixelRatio%1!==0?1:0,C={w:_(S.w-O.w),h:_(S.h-O.h)};return{w:C.w>I?C.w:0,h:C.h>I?C.h:0}},[D,L]=he(V,z(Tn,l)),[$,p]=he(V,z(It,l)),[h,B]=he(V),[g]=he(T),[A,y]=he(V),[M]=he(T),[F]=he({i:(S,O)=>Ht(S,O,k),o:{}},()=>Ur(l)?Le(l,k):{}),[H,G]=he({i:(S,O)=>xt(S.D,O.D)&&xt(S.M,O.M),o:Po()}),E=mt(Ko),te=(S,O)=>`${O?Wr:Gr}${Mr(S)}`,U=S=>{const O=C=>[Ue,Ke,et].map(R=>te(R,C)),I=O(!0).concat(O()).join(" ");m(I),m(Se(S).map(C=>te(S[C],C==="x")).join(" "),!0)};return({It:S,Zt:O,_n:I,Dt:C},{fn:R})=>{const{ft:P,Ht:q,Ct:W,dt:Z,zt:ae}=O||{},re=E&&E.V(n,t,I,o,S),{W:me,X:K,J:ie}=re||{},[_e,ce]=ds(S,o),[de,se]=S("overflow"),le=nt(de.x),ne=nt(de.y),J=!0;let ue=L(C),ve=p(C),rt=B(C),ft=y(C);ce&&v&&m(Ho,!_e);{$n(s,ze,$t)&&N(!0);const[Pn]=K?K():[],[yt]=ue=D(C),[kt]=ve=$(C),wt=Oo(l),Et=f&&qr(u()),mr={w:_(kt.w+yt.w),h:_(kt.h+yt.h)},Rn={w:_((Et?Et.w:wt.w+_(wt.w-kt.w))+yt.w),h:_((Et?Et.h:wt.h+_(wt.h-kt.h))+yt.h)};Pn&&Pn(),ft=A(Rn),rt=h(x(mr,Rn),C)}const[vt,_t]=ft,[je,st]=rt,[pt,Wt]=ve,[Gt,Yt]=ue,[Ve,Xt]=g({x:je.w>0,y:je.h>0}),ht=le&&ne&&(Ve.x||Ve.y)||le&&Ve.x&&!Ve.y||ne&&Ve.y&&!Ve.x,gt=R||W||ae||Yt||Wt||_t||st||se||ce||J,Re=us(Ve,de),[lt,at]=M(Re.k),[bt,cr]=F(C),In=W||Z||cr||Xt||C,[dr,ur]=In?H(w(bt),C):G();return gt&&(at&&U(Re.k),ie&&me&&dt(l,ie(Re,I,me(Re,pt,Gt)))),N(!1),Lt(s,ze,$t,ht),Lt(r,gn,$t,ht),Y(t,{k:lt,Vt:{x:vt.w,y:vt.h},Rt:{x:je.w,y:je.h},rn:Ve,Lt:zr(dr,je)}),{en:at,nn:_t,sn:st,cn:ur||st,pn:In}}},Bs=n=>{const[t,o,s]=Vs(n),r={ln:{t:0,r:0,b:0,l:0},dn:!1,j:{[bo]:0,[yo]:0,[go]:0,[vo]:0,[_o]:0,[ho]:0,[po]:0},Vt:{x:0,y:0},Rt:{x:0,y:0},k:{x:Ke,y:Ke},rn:{x:!1,y:!1},Lt:Po()},{vt:l,gt:i,L:c,Ot:a}=t,{P:d,T:m}=De(),u=!d&&(m.x||m.y),v=[Ns(t),Cs(t,r),xs(t,r)];return[o,f=>{const _={},k=u&&be(i),V=k&&a();return X(v,T=>{Y(_,T(f,_)||{})}),Ce(i,k),V&&V(),!c&&Ce(l,0),_},r,t,s]},$s=(n,t,o,s,r)=>{let l=!1;const i=ro(t,{}),[c,a,d,m,u]=Bs(n),[v,f,_]=bs(m,d,i,w=>{N({},w)}),[b,k,,V]=Ss(n,t,_,d,m,r),T=w=>Se(w).some(x=>!!w[x]),N=(w,x)=>{if(o())return!1;const{vn:D,Dt:L,At:$,hn:p}=w,h=D||{},B=!!L||!l,g={It:ro(t,h,B),vn:h,Dt:B};if(p)return k(g),!1;const A=x||f(Y({},g,{At:$})),y=a(Y({},g,{_n:_,Zt:A}));k(Y({},g,{Zt:A,tn:y}));const M=T(A),F=T(y),H=M||F||!Cn(h)||B;return l=!0,H&&s(w,{Zt:A,tn:y}),H};return[()=>{const{an:w,gt:x,Ot:D}=m,L=be(w),$=[v(),c(),b()],p=D();return Ce(x,L),p(),z(ye,$)},N,()=>({gn:_,bn:d}),{wn:m,yn:V},u]},On=new WeakMap,Ds=(n,t)=>{On.set(n,t)},Ts=n=>{On.delete(n)},Jo=n=>On.get(n),$e=(n,t,o)=>{const{nt:s}=De(),r=Ft(n),l=r?n:n.target,i=Jo(l);if(t&&!i){let c=!1;const a=[],d={},m=h=>{const B=Vo(h),g=mt(jr);return g?g(B,!0):B},u=Y({},s(),m(t)),[v,f,_]=hn(),[b,k,V]=hn(o),T=(h,B)=>{V(h,B),_(h,B)},[N,w,x,D,L]=$s(n,u,()=>c,({vn:h,Dt:B},{Zt:g,tn:A})=>{const{ft:y,Ct:M,xt:F,Ht:H,Et:G,dt:E}=g,{nn:te,sn:U,en:S,cn:O}=A;T("updated",[p,{updateHints:{sizeChanged:!!y,directionChanged:!!M,heightIntrinsicChanged:!!F,overflowEdgeChanged:!!te,overflowAmountChanged:!!U,overflowStyleChanged:!!S,scrollCoordinatesChanged:!!O,contentMutation:!!H,hostMutation:!!G,appear:!!E},changedOptions:h||{},force:!!B}])},h=>T("scroll",[p,h])),$=h=>{Ts(l),ye(a),c=!0,T("destroyed",[p,h]),f(),k()},p={options(h,B){if(h){const g=B?s():{},A=Wo(u,Y(g,m(h)));Cn(A)||(Y(u,A),w({vn:A}))}return Y({},u)},on:b,off:(h,B)=>{h&&B&&k(h,B)},state(){const{gn:h,bn:B}=x(),{F:g}=h,{Vt:A,Rt:y,k:M,rn:F,ln:H,dn:G,Lt:E}=B;return Y({},{overflowEdge:A,overflowAmount:y,overflowStyle:M,hasOverflow:F,scrollCoordinates:{start:E.D,end:E.M},padding:H,paddingAbsolute:G,directionRTL:g,destroyed:c})},elements(){const{vt:h,ht:B,ln:g,U:A,bt:y,gt:M,Qt:F}=D.wn,{Yt:H,Gt:G}=D.yn,E=U=>{const{Pt:S,Ut:O,Tt:I}=U;return{scrollbar:I,track:O,handle:S}},te=U=>{const{Wt:S,Xt:O}=U,I=E(S[0]);return Y({},I,{clone:()=>{const C=E(O());return w({hn:!0}),C}})};return Y({},{target:h,host:B,padding:g||A,viewport:A,content:y||A,scrollOffsetElement:M,scrollEventElement:F,scrollbarHorizontal:te(H),scrollbarVertical:te(G)})},update:h=>w({Dt:h,At:!0}),destroy:z($,!1),plugin:h=>d[Se(h)[0]]};return oe(a,[L]),Ds(l,p),Uo(Ro,$e,[p,v,d]),ks(D.wn.wt,!r&&n.cancel)?($(!0),p):(oe(a,N()),T("initialized",[p]),p.update(),p)}return i};$e.plugin=n=>{const t=Be(n),o=t?n:[n],s=o.map(r=>Uo(r,$e)[0]);return Hr(o),t?s:s[0]};$e.valid=n=>{const t=n&&n.elements,o=we(t)&&t();return Ot(o)&&!!Jo(o.target)};$e.env=()=>{const{N:n,T:t,P:o,G:s,st:r,et:l,Z:i,tt:c,nt:a,ot:d}=De();return Y({},{scrollbarsSize:n,scrollbarsOverlaid:t,scrollbarsHiding:o,scrollTimeline:s,staticDefaultInitialization:r,staticDefaultOptions:l,getDefaultInitialization:i,setDefaultInitialization:c,getDefaultOptions:a,setDefaultOptions:d})};$e.nonce=_s;function As(){let n;const t=e.ref(null),o=Math.floor(Math.random()*2**32),s=e.ref(!1),r=e.ref([]),l=()=>r.value,i=()=>n.getSelection(),c=()=>r.value.length,a=()=>n.clearSelection(!0),d=e.ref(),m=e.ref(null),u=e.ref(null),v=e.ref(null),f=e.ref(null);function _(){n=new pr({area:t.value,keyboardDrag:!1,selectedClass:"vf-explorer-selected",selectorClass:"vf-explorer-selector"}),n.subscribe("DS:start:pre",({items:x,event:D,isDragging:L})=>{if(L)n.Interaction._reset(D);else{s.value=!1;const $=t.value.offsetWidth-D.offsetX,p=t.value.offsetHeight-D.offsetY;$<15&&p<15&&n.Interaction._reset(D),D.target.classList.contains("os-scrollbar-handle")&&n.Interaction._reset(D)}}),document.addEventListener("dragleave",x=>{!x.buttons&&s.value&&(s.value=!1)})}const b=()=>e.nextTick(()=>{n.addSelection(n.getSelectables()),k()}),k=()=>{r.value=n.getSelection().map(x=>JSON.parse(x.dataset.item)),d.value(r.value)},V=()=>e.nextTick(()=>{const x=l().map(D=>D.path);a(),n.setSettings({selectables:document.getElementsByClassName("vf-item-"+o)}),n.addSelection(n.getSelectables().filter(D=>x.includes(JSON.parse(D.dataset.item).path))),k(),N()}),T=x=>{d.value=x,n.subscribe("DS:end",({items:D,event:L,isDragging:$})=>{r.value=D.map(p=>JSON.parse(p.dataset.item)),x(D.map(p=>JSON.parse(p.dataset.item)))})},N=()=>{m.value&&(t.value.getBoundingClientRect().height<t.value.scrollHeight?(u.value.style.height=t.value.scrollHeight+"px",u.value.style.display="block"):(u.value.style.height="100%",u.value.style.display="none"))},w=x=>{if(!m.value)return;const{scrollOffsetElement:D}=m.value.elements();D.scrollTo({top:t.value.scrollTop,left:0})};return e.onMounted(()=>{$e(v.value,{scrollbars:{theme:"vf-theme-dark dark:vf-theme-light"},plugins:{OverlayScrollbars:$e}},{initialized:x=>{m.value=x},scroll:(x,D)=>{const{scrollOffsetElement:L}=x.elements();t.value.scrollTo({top:L.scrollTop,left:0})}}),_(),N(),f.value=new ResizeObserver(N),f.value.observe(t.value),t.value.addEventListener("scroll",w),n.subscribe("DS:scroll",({isDragging:x})=>x||w())}),e.onUnmounted(()=>{n&&n.stop(),f.value&&f.value.disconnect()}),e.onUpdated(()=>{n&&n.Area.reset()}),{area:t,explorerId:o,isDraggingRef:s,scrollBar:u,scrollBarContainer:v,getSelected:l,getSelection:i,selectAll:b,clearSelection:a,refreshSelection:V,getCount:c,onSelect:T}}function Ms(n,t){const o=e.ref(n),s=e.ref(t),r=e.ref([]),l=e.ref([]),i=e.ref([]),c=e.ref(!1),a=e.ref(5);let d=!1,m=!1;const u=e.reactive({adapter:o,storages:[],dirname:s,files:[]});function v(){let T=[],N=[],w=s.value??o.value+"://";w.length===0&&(r.value=[]),w.replace(o.value+"://","").split("/").forEach(function(L){T.push(L),T.join("/")!==""&&N.push({basename:L,name:L,path:o.value+"://"+T.join("/"),type:"dir"})}),l.value=N;const[x,D]=_(N,a.value);i.value=D,r.value=x}function f(T){a.value=T,v()}function _(T,N){return T.length>N?[T.slice(-N),T.slice(0,-N)]:[T,[]]}function b(T=null){c.value=T??!c.value}function k(){return r.value&&r.value.length&&!m}const V=e.computed(()=>{var T;return((T=r.value[r.value.length-2])==null?void 0:T.path)??o.value+"://"});return e.onMounted(()=>{}),e.watch(s,v),e.onMounted(v),{adapter:o,path:s,loading:d,searchMode:m,data:u,breadcrumbs:r,breadcrumbItems:l,limitBreadcrumbItems:f,hiddenBreadcrumbs:i,showHiddenBreadcrumbs:c,toggleHiddenBreadcrumbs:b,isGoUpAvailable:k,parentFolderPath:V}}const Os=(n,t)=>{const o=Er(n.id),s=_r(),r=o.getStore("metricUnits",!1),l=Br(o,n.theme),i=t.i18n,c=n.locale??t.locale,a=_=>Array.isArray(_)?_:Nr,d=o.getStore("persist-path",n.persist),m=d?o.getStore("path",n.path):n.path,u=d?o.getStore("adapter"):null,v=As(),f=t.icons;return e.reactive({version:Cr,root:null,debug:n.debug,emitter:s,storage:o,i18n:Vr(o,c,s,i),modal:$r(),dragSelect:e.computed(()=>v),requester:wr(n.request),features:a(n.features),view:o.getStore("viewport","grid"),fullScreen:o.getStore("full-screen",n.fullScreen),showTreeView:o.getStore("show-tree-view",n.showTreeView),pinnedFolders:o.getStore("pinned-folders",n.pinnedFolders),treeViewData:[],selectButton:n.selectButton,maxFileSize:n.maxFileSize,theme:l,metricUnits:r,filesize:r?co:io,compactListView:o.getStore("compact-list-view",!0),persist:d,showThumbnails:o.getStore("show-thumbnails",n.showThumbnails),loadingIndicator:n.loadingIndicator,contextMenuItems:n.contextMenuItems,iconComponent:t.iconComponent,icons:f,fs:Ms(u,m)})},Fs={class:"vuefinder__modal-layout__container"},Ls={class:"vuefinder__modal-layout__content"},Is={class:"vuefinder__modal-layout__footer"},Te={__name:"ModalLayout",setup(n){const t=e.ref(null),o=e.inject("ServiceContainer");return e.onMounted(()=>{const s=document.querySelector(".v-f-modal input");s&&s.focus(),e.nextTick(()=>{if(document.querySelector(".v-f-modal input")&&window.innerWidth<768){const r=t.value.getBoundingClientRect().bottom+16;window.scrollTo({top:r,left:0,behavior:"smooth"})}})}),(s,r)=>(e.openBlock(),e.createElementBlock("div",{class:"vuefinder__modal-layout","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",onKeyup:r[1]||(r[1]=e.withKeys(l=>e.unref(o).modal.close(),["esc"])),tabindex:"0"},[r[2]||(r[2]=e.createElementVNode("div",{class:"vuefinder__modal-layout__overlay"},null,-1)),e.createElementVNode("div",Fs,[e.createElementVNode("div",{class:"vuefinder__modal-layout__wrapper",onMousedown:r[0]||(r[0]=e.withModifiers(l=>e.unref(o).modal.close(),["self"]))},[e.createElementVNode("div",{ref_key:"modalBody",ref:t,class:"vuefinder__modal-layout__body"},[e.createElementVNode("div",Ls,[e.renderSlot(s.$slots,"default")]),e.createElementVNode("div",Is,[e.renderSlot(s.$slots,"buttons")])],512)],32)])],32))}},Ps=(n,t)=>{const o=n.__vccOpts||n;for(const[s,r]of t)o[s]=r;return o},Rs={props:{on:{type:String,required:!0}},setup(n,{emit:t,slots:o}){const s=e.inject("ServiceContainer"),r=e.ref(!1),{t:l}=s.i18n;let i=null;const c=()=>{clearTimeout(i),r.value=!0,i=setTimeout(()=>{r.value=!1},2e3)};return e.onMounted(()=>{s.emitter.on(n.on,c)}),e.onUnmounted(()=>{clearTimeout(i)}),{shown:r,t:l}}},qs={key:1};function Us(n,t,o,s,r,l){return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vuefinder__action-message",{"vuefinder__action-message--hidden":!s.shown}])},[n.$slots.default?e.renderSlot(n.$slots,"default",{key:0}):(e.openBlock(),e.createElementBlock("span",qs,e.toDisplayString(s.t("Saved.")),1))],2)}const Ye=Ps(Rs,[["render",Us]]),zs={class:"vuefinder__modal-header"},Hs={class:"vuefinder__modal-header__icon-container"},js={class:"vuefinder__modal-header__title",id:"modal-title"},Pe={__name:"ModalHeader",props:{title:{type:String,required:!0},icon:{type:Object,required:!0}},setup(n){return(t,o)=>(e.openBlock(),e.createElementBlock("div",zs,[e.createElementVNode("div",Hs,[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(n.icon),{class:"vuefinder__modal-header__icon"}))]),e.createElementVNode("h3",js,e.toDisplayString(n.title),1)]))}},Ks={class:"vuefinder__about-modal__content"},Ws={class:"vuefinder__about-modal__main"},Gs={class:"vuefinder__about-modal__tabs","aria-label":"Tabs"},Ys=["onClick","aria-current"],Xs={key:0,class:"vuefinder__about-modal__tab-content"},Zs={class:"vuefinder__about-modal__description"},Js={href:"https://vuefinder.ozdemir.be",class:"vuefinder__about-modal__link",target:"_blank"},Qs={href:"https://github.com/n1crack/vuefinder",class:"vuefinder__about-modal__link",target:"_blank"},el={key:1,class:"vuefinder__about-modal__tab-content"},tl={class:"vuefinder__about-modal__description"},nl={class:"vuefinder__about-modal__settings"},ol={class:"vuefinder__about-modal__setting flex"},rl={class:"vuefinder__about-modal__setting-input"},sl={class:"vuefinder__about-modal__setting-label"},ll={for:"metric_unit",class:"vuefinder__about-modal__label"},al={class:"vuefinder__about-modal__setting flex"},il={class:"vuefinder__about-modal__setting-input"},cl={class:"vuefinder__about-modal__setting-label"},dl={for:"large_icons",class:"vuefinder__about-modal__label"},ul={class:"vuefinder__about-modal__setting flex"},ml={class:"vuefinder__about-modal__setting-input"},fl={class:"vuefinder__about-modal__setting-label"},vl={for:"persist_path",class:"vuefinder__about-modal__label"},_l={class:"vuefinder__about-modal__setting flex"},pl={class:"vuefinder__about-modal__setting-input"},hl={class:"vuefinder__about-modal__setting-label"},gl={for:"show_thumbnails",class:"vuefinder__about-modal__label"},bl={class:"vuefinder__about-modal__setting"},yl={class:"vuefinder__about-modal__setting-input"},kl={for:"theme",class:"vuefinder__about-modal__label"},wl={class:"vuefinder__about-modal__setting-label"},El=["label"],Sl=["value"],Vl={key:0,class:"vuefinder__about-modal__setting"},Nl={class:"vuefinder__about-modal__setting-input"},Cl={for:"language",class:"vuefinder__about-modal__label"},xl={class:"vuefinder__about-modal__setting-label"},Bl=["label"],$l=["value"],Dl={key:2,class:"vuefinder__about-modal__tab-content"},Tl={class:"vuefinder__about-modal__shortcuts"},Al={class:"vuefinder__about-modal__shortcut"},Ml={class:"vuefinder__about-modal__shortcut"},Ol={class:"vuefinder__about-modal__shortcut"},Fl={class:"vuefinder__about-modal__shortcut"},Ll={class:"vuefinder__about-modal__shortcut"},Il={class:"vuefinder__about-modal__shortcut"},Pl={class:"vuefinder__about-modal__shortcut"},Rl={class:"vuefinder__about-modal__shortcut"},ql={class:"vuefinder__about-modal__shortcut"},Ul={key:3,class:"vuefinder__about-modal__tab-content"},zl={class:"vuefinder__about-modal__description"},Qo={__name:"ModalAbout",setup(n){const t=e.inject("ServiceContainer"),{setStore:o,clearStore:s}=t.storage,{t:r}=t.i18n,l={ABOUT:"about",SETTINGS:"settings",SHORTCUTS:"shortcuts",RESET:"reset"},i=e.computed(()=>[{name:r("About"),key:l.ABOUT},{name:r("Settings"),key:l.SETTINGS},{name:r("Shortcuts"),key:l.SHORTCUTS},{name:r("Reset"),key:l.RESET}]),c=e.ref("about"),a=async()=>{s(),location.reload()},d=T=>{t.theme.set(T),t.emitter.emit("vf-theme-saved")},m=()=>{t.metricUnits=!t.metricUnits,t.filesize=t.metricUnits?co:io,o("metricUnits",t.metricUnits),t.emitter.emit("vf-metric-units-saved")},u=()=>{t.compactListView=!t.compactListView,o("compactListView",t.compactListView),t.emitter.emit("vf-compact-view-saved")},v=()=>{t.showThumbnails=!t.showThumbnails,o("show-thumbnails",t.showThumbnails),t.emitter.emit("vf-show-thumbnails-saved")},f=()=>{t.persist=!t.persist,o("persist-path",t.persist),t.emitter.emit("vf-persist-path-saved")},{i18n:_}=e.inject("VueFinderOptions"),k=Object.fromEntries(Object.entries({ar:"Arabic (العربيّة)",en:"English",fr:"French (Français)",de:"German (Deutsch)",fa:"Persian (فارسی)",he:"Hebrew (עִברִית)",hi:"Hindi (हिंदी)",pl:"Polish (Polski)",ru:"Russian (Pусский)",sv:"Swedish (Svenska)",tr:"Turkish (Türkçe)",zhCN:"Simplified Chinese (简体中文)",zhTW:"Traditional Chinese (繁體中文)"}).filter(([T])=>Object.keys(_).includes(T))),V=e.computed(()=>({system:r("System"),light:r("Light"),dark:r("Dark")}));return(T,N)=>(e.openBlock(),e.createBlock(Te,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:N[7]||(N[7]=w=>e.unref(t).modal.close()),class:"vf-btn vf-btn-secondary"},e.toDisplayString(e.unref(r)("Close")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",Ks,[e.createVNode(Pe,{icon:e.unref(Ie.AboutSVG),title:"Vuefinder "+e.unref(t).version},null,8,["icon","title"]),e.createElementVNode("div",Ws,[e.createElementVNode("div",null,[e.createElementVNode("div",null,[e.createElementVNode("nav",Gs,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(i.value,w=>(e.openBlock(),e.createElementBlock("button",{key:w.name,onClick:x=>c.value=w.key,class:e.normalizeClass([w.key===c.value?"vuefinder__about-modal__tab--active":"vuefinder__about-modal__tab--inactive","vuefinder__about-modal__tab"]),"aria-current":w.current?"page":void 0},e.toDisplayString(w.name),11,Ys))),128))])])]),c.value===l.ABOUT?(e.openBlock(),e.createElementBlock("div",Xs,[e.createElementVNode("div",Zs,e.toDisplayString(e.unref(r)("Vuefinder is a simple, lightweight, and fast file manager library for Vue.js applications")),1),e.createElementVNode("a",Js,e.toDisplayString(e.unref(r)("Project home")),1),e.createElementVNode("a",Qs,e.toDisplayString(e.unref(r)("Follow on GitHub")),1)])):e.createCommentVNode("",!0),c.value===l.SETTINGS?(e.openBlock(),e.createElementBlock("div",el,[e.createElementVNode("div",tl,e.toDisplayString(e.unref(r)("Customize your experience with the following settings")),1),e.createElementVNode("div",nl,[e.createElementVNode("fieldset",null,[e.createElementVNode("div",ol,[e.createElementVNode("div",rl,[e.withDirectives(e.createElementVNode("input",{id:"metric_unit",name:"metric_unit",type:"checkbox","onUpdate:modelValue":N[0]||(N[0]=w=>e.unref(t).metricUnits=w),onClick:m,class:"vuefinder__about-modal__checkbox"},null,512),[[e.vModelCheckbox,e.unref(t).metricUnits]])]),e.createElementVNode("div",sl,[e.createElementVNode("label",ll,[e.createTextVNode(e.toDisplayString(e.unref(r)("Use Metric Units"))+" ",1),e.createVNode(Ye,{class:"ms-3",on:"vf-metric-units-saved"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(r)("Saved.")),1)]),_:1})])])]),e.createElementVNode("div",al,[e.createElementVNode("div",il,[e.withDirectives(e.createElementVNode("input",{id:"large_icons",name:"large_icons",type:"checkbox","onUpdate:modelValue":N[1]||(N[1]=w=>e.unref(t).compactListView=w),onClick:u,class:"vuefinder__about-modal__checkbox"},null,512),[[e.vModelCheckbox,e.unref(t).compactListView]])]),e.createElementVNode("div",cl,[e.createElementVNode("label",dl,[e.createTextVNode(e.toDisplayString(e.unref(r)("Compact list view"))+" ",1),e.createVNode(Ye,{class:"ms-3",on:"vf-compact-view-saved"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(r)("Saved.")),1)]),_:1})])])]),e.createElementVNode("div",ul,[e.createElementVNode("div",ml,[e.withDirectives(e.createElementVNode("input",{id:"persist_path",name:"persist_path",type:"checkbox","onUpdate:modelValue":N[2]||(N[2]=w=>e.unref(t).persist=w),onClick:f,class:"vuefinder__about-modal__checkbox"},null,512),[[e.vModelCheckbox,e.unref(t).persist]])]),e.createElementVNode("div",fl,[e.createElementVNode("label",vl,[e.createTextVNode(e.toDisplayString(e.unref(r)("Persist path on reload"))+" ",1),e.createVNode(Ye,{class:"ms-3",on:"vf-persist-path-saved"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(r)("Saved.")),1)]),_:1})])])]),e.createElementVNode("div",_l,[e.createElementVNode("div",pl,[e.withDirectives(e.createElementVNode("input",{id:"show_thumbnails",name:"show_thumbnails",type:"checkbox","onUpdate:modelValue":N[3]||(N[3]=w=>e.unref(t).showThumbnails=w),onClick:v,class:"vuefinder__about-modal__checkbox"},null,512),[[e.vModelCheckbox,e.unref(t).showThumbnails]])]),e.createElementVNode("div",hl,[e.createElementVNode("label",gl,[e.createTextVNode(e.toDisplayString(e.unref(r)("Show thumbnails"))+" ",1),e.createVNode(Ye,{class:"ms-3",on:"vf-show-thumbnails-saved"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(r)("Saved.")),1)]),_:1})])])]),e.createElementVNode("div",bl,[e.createElementVNode("div",yl,[e.createElementVNode("label",kl,e.toDisplayString(e.unref(r)("Theme")),1)]),e.createElementVNode("div",wl,[e.withDirectives(e.createElementVNode("select",{id:"theme","onUpdate:modelValue":N[4]||(N[4]=w=>e.unref(t).theme.value=w),onChange:N[5]||(N[5]=w=>d(w.target.value)),class:"vuefinder__about-modal__select"},[e.createElementVNode("optgroup",{label:e.unref(r)("Theme")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(V.value,(w,x)=>(e.openBlock(),e.createElementBlock("option",{value:x},e.toDisplayString(w),9,Sl))),256))],8,El)],544),[[e.vModelSelect,e.unref(t).theme.value]]),e.createVNode(Ye,{class:"ms-3",on:"vf-theme-saved"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(r)("Saved.")),1)]),_:1})])]),e.unref(t).features.includes(e.unref(Q).LANGUAGE)&&Object.keys(e.unref(k)).length>1?(e.openBlock(),e.createElementBlock("div",Vl,[e.createElementVNode("div",Nl,[e.createElementVNode("label",Cl,e.toDisplayString(e.unref(r)("Language")),1)]),e.createElementVNode("div",xl,[e.withDirectives(e.createElementVNode("select",{id:"language","onUpdate:modelValue":N[6]||(N[6]=w=>e.unref(t).i18n.locale=w),class:"vuefinder__about-modal__select"},[e.createElementVNode("optgroup",{label:e.unref(r)("Language")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(k),(w,x)=>(e.openBlock(),e.createElementBlock("option",{value:x},e.toDisplayString(w),9,$l))),256))],8,Bl)],512),[[e.vModelSelect,e.unref(t).i18n.locale]]),e.createVNode(Ye,{class:"ms-3",on:"vf-language-saved"},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(e.unref(r)("Saved.")),1)]),_:1})])])):e.createCommentVNode("",!0)])])])):e.createCommentVNode("",!0),c.value===l.SHORTCUTS?(e.openBlock(),e.createElementBlock("div",Dl,[e.createElementVNode("div",Tl,[e.createElementVNode("div",Al,[e.createElementVNode("div",null,e.toDisplayString(e.unref(r)("Rename")),1),N[8]||(N[8]=e.createElementVNode("kbd",null,"F2",-1))]),e.createElementVNode("div",Ml,[e.createElementVNode("div",null,e.toDisplayString(e.unref(r)("Refresh")),1),N[9]||(N[9]=e.createElementVNode("kbd",null,"F5",-1))]),e.createElementVNode("div",Ol,[e.createTextVNode(e.toDisplayString(e.unref(r)("Delete"))+" ",1),N[10]||(N[10]=e.createElementVNode("kbd",null,"Del",-1))]),e.createElementVNode("div",Fl,[e.createTextVNode(e.toDisplayString(e.unref(r)("Escape"))+" ",1),N[11]||(N[11]=e.createElementVNode("div",null,[e.createElementVNode("kbd",null,"Esc")],-1))]),e.createElementVNode("div",Ll,[e.createTextVNode(e.toDisplayString(e.unref(r)("Select All"))+" ",1),N[12]||(N[12]=e.createElementVNode("div",null,[e.createElementVNode("kbd",null,"Ctrl"),e.createTextVNode(" + "),e.createElementVNode("kbd",null,"A")],-1))]),e.createElementVNode("div",Il,[e.createTextVNode(e.toDisplayString(e.unref(r)("Search"))+" ",1),N[13]||(N[13]=e.createElementVNode("div",null,[e.createElementVNode("kbd",null,"Ctrl"),e.createTextVNode(" + "),e.createElementVNode("kbd",null,"F")],-1))]),e.createElementVNode("div",Pl,[e.createTextVNode(e.toDisplayString(e.unref(r)("Toggle Sidebar"))+" ",1),N[14]||(N[14]=e.createElementVNode("div",null,[e.createElementVNode("kbd",null,"Ctrl"),e.createTextVNode(" + "),e.createElementVNode("kbd",null,"E")],-1))]),e.createElementVNode("div",Rl,[e.createTextVNode(e.toDisplayString(e.unref(r)("Open Settings"))+" ",1),N[15]||(N[15]=e.createElementVNode("div",null,[e.createElementVNode("kbd",null,"Ctrl"),e.createTextVNode(" + "),e.createElementVNode("kbd",null,",")],-1))]),e.createElementVNode("div",ql,[e.createTextVNode(e.toDisplayString(e.unref(r)("Toggle Full Screen"))+" ",1),N[16]||(N[16]=e.createElementVNode("div",null,[e.createElementVNode("kbd",null,"Ctrl"),e.createTextVNode(" + "),e.createElementVNode("kbd",null,"Enter")],-1))])])])):e.createCommentVNode("",!0),c.value===l.RESET?(e.openBlock(),e.createElementBlock("div",Ul,[e.createElementVNode("div",zl,e.toDisplayString(e.unref(r)("Reset all settings to default")),1),e.createElementVNode("button",{onClick:a,type:"button",class:"vf-btn vf-btn-secondary"},e.toDisplayString(e.unref(r)("Reset Settings")),1)])):e.createCommentVNode("",!0)])])]),_:1}))}},Hl=["title"],Ae={__name:"Message",props:{error:{type:Boolean,default:!1}},emits:["hidden"],setup(n,{emit:t}){var d;const o=t,s=e.inject("ServiceContainer"),{t:r}=s.i18n,l=e.ref(!1),i=e.ref(null),c=e.ref((d=i.value)==null?void 0:d.strMessage);e.watch(c,()=>l.value=!1);const a=()=>{o("hidden"),l.value=!0};return(m,u)=>(e.openBlock(),e.createElementBlock("div",null,[l.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"strMessage",ref:i,class:e.normalizeClass(["vuefinder__message",n.error?"vuefinder__message--error":"vuefinder__message--success"])},[e.renderSlot(m.$slots,"default"),e.createElementVNode("div",{class:"vuefinder__message__close",onClick:a,title:e.unref(r)("Close")},u[0]||(u[0]=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"vuefinder__message__icon"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Hl)],2))]))}},jl={class:"vuefinder__delete-modal__content"},Kl={class:"vuefinder__delete-modal__form"},Wl={class:"vuefinder__delete-modal__description"},Gl={class:"vuefinder__delete-modal__files vf-scrollbar"},Yl={class:"vuefinder__delete-modal__file"},Xl={key:0,class:"vuefinder__delete-modal__icon vuefinder__delete-modal__icon--dir",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Zl={key:1,class:"vuefinder__delete-modal__icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Jl={class:"vuefinder__delete-modal__file-name"},Ql={class:"vuefinder__delete-modal__warning"},Fn={__name:"ModalDelete",setup(n){const t=e.inject("ServiceContainer"),{t:o}=t.i18n,s=e.ref(t.modal.data.items),r=e.ref(""),l=()=>{s.value.length&&t.emitter.emit("vf-fetch",{params:{q:"delete",m:"post",adapter:t.fs.adapter,path:t.fs.data.dirname},body:{items:s.value.map(({path:i,type:c})=>({path:i,type:c}))},onSuccess:()=>{t.emitter.emit("vf-toast-push",{label:o("Files deleted.")})},onError:i=>{r.value=o(i.message)}})};return(i,c)=>(e.openBlock(),e.createBlock(Te,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:l,class:"vf-btn vf-btn-danger"},e.toDisplayString(e.unref(o)("Yes, Delete!")),1),e.createElementVNode("button",{type:"button",onClick:c[1]||(c[1]=a=>e.unref(t).modal.close()),class:"vf-btn vf-btn-secondary"},e.toDisplayString(e.unref(o)("Cancel")),1),e.createElementVNode("div",Ql,e.toDisplayString(e.unref(o)("This action cannot be undone.")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",null,[e.createVNode(Pe,{icon:e.unref(Ie.DeleteSVG),title:e.unref(o)("Delete files")},null,8,["icon","title"]),e.createElementVNode("div",jl,[e.createElementVNode("div",Kl,[e.createElementVNode("p",Wl,e.toDisplayString(e.unref(o)("Are you sure you want to delete these files?")),1),e.createElementVNode("div",Gl,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,a=>(e.openBlock(),e.createElementBlock("p",Yl,[a.type==="dir"?(e.openBlock(),e.createElementBlock("svg",Xl,c[2]||(c[2]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)]))):(e.openBlock(),e.createElementBlock("svg",Zl,c[3]||(c[3]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)]))),e.createElementVNode("span",Jl,e.toDisplayString(a.basename),1)]))),256))]),r.value.length?(e.openBlock(),e.createBlock(Ae,{key:0,onHidden:c[0]||(c[0]=a=>r.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(r.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}},ea={class:"vuefinder__rename-modal__content"},ta={class:"vuefinder__rename-modal__item"},na={class:"vuefinder__rename-modal__item-info"},oa={key:0,class:"vuefinder__rename-modal__icon vuefinder__rename-modal__icon--dir",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},ra={key:1,class:"vuefinder__rename-modal__icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},sa={class:"vuefinder__rename-modal__item-name"},Ln={__name:"ModalRename",setup(n){const t=e.inject("ServiceContainer"),{t:o}=t.i18n,s=e.ref(t.modal.data.items[0]),r=e.ref(t.modal.data.items[0].basename),l=e.ref(""),i=()=>{r.value!=""&&t.emitter.emit("vf-fetch",{params:{q:"rename",m:"post",adapter:t.fs.adapter,path:t.fs.data.dirname},body:{item:s.value.path,name:r.value},onSuccess:()=>{t.emitter.emit("vf-toast-push",{label:o("%s is renamed.",r.value)})},onError:c=>{l.value=o(c.message)}})};return(c,a)=>(e.openBlock(),e.createBlock(Te,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:i,class:"vf-btn vf-btn-primary"},e.toDisplayString(e.unref(o)("Rename")),1),e.createElementVNode("button",{type:"button",onClick:a[2]||(a[2]=d=>e.unref(t).modal.close()),class:"vf-btn vf-btn-secondary"},e.toDisplayString(e.unref(o)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",null,[e.createVNode(Pe,{icon:e.unref(Ie.RenameSVG),title:e.unref(o)("Rename")},null,8,["icon","title"]),e.createElementVNode("div",ea,[e.createElementVNode("div",ta,[e.createElementVNode("p",na,[s.value.type==="dir"?(e.openBlock(),e.createElementBlock("svg",oa,a[3]||(a[3]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)]))):(e.openBlock(),e.createElementBlock("svg",ra,a[4]||(a[4]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)]))),e.createElementVNode("span",sa,e.toDisplayString(s.value.basename),1)]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[0]||(a[0]=d=>r.value=d),onKeyup:e.withKeys(i,["enter"]),class:"vuefinder__rename-modal__input",placeholder:"Name",type:"text"},null,544),[[e.vModelText,r.value]]),l.value.length?(e.openBlock(),e.createBlock(Ae,{key:0,onHidden:a[1]||(a[1]=d=>l.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(l.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}},Me={ESCAPE:"Escape",F2:"F2",F5:"F5",DELETE:"Delete",ENTER:"Enter",BACKSLASH:"Backslash",KEY_A:"KeyA",KEY_E:"KeyE",KEY_F:"KeyF"};function la(n){const t=o=>{o.code===Me.ESCAPE&&(n.modal.close(),n.root.focus()),!n.modal.visible&&(n.fs.searchMode||(o.code===Me.F2&&n.features.includes(Q.RENAME)&&(n.dragSelect.getCount()!==1||n.modal.open(Ln,{items:n.dragSelect.getSelected()})),o.code===Me.F5&&n.emitter.emit("vf-fetch",{params:{q:"index",adapter:n.fs.adapter,path:n.fs.data.dirname}}),o.code===Me.DELETE&&(!n.dragSelect.getCount()||n.modal.open(Fn,{items:n.dragSelect.getSelected()})),o.metaKey&&o.code===Me.BACKSLASH&&n.modal.open(Qo),o.metaKey&&o.code===Me.KEY_F&&n.features.includes(Q.SEARCH)&&(n.fs.searchMode=!0,o.preventDefault()),o.metaKey&&o.code===Me.KEY_E&&(n.showTreeView=!n.showTreeView,n.storage.setStore("show-tree-view",n.showTreeView)),o.metaKey&&o.code===Me.ENTER&&(n.fullScreen=!n.fullScreen,n.root.focus()),o.metaKey&&o.code===Me.KEY_A&&(n.dragSelect.selectAll(),o.preventDefault())))};e.onMounted(()=>{n.root.addEventListener("keydown",t)})}const aa={class:"vuefinder__new-folder-modal__content"},ia={class:"vuefinder__new-folder-modal__form"},ca={class:"vuefinder__new-folder-modal__description"},da=["placeholder"],er={__name:"ModalNewFolder",setup(n){const t=e.inject("ServiceContainer");t.storage;const{t:o}=t.i18n,s=e.ref(""),r=e.ref(""),l=()=>{s.value!==""&&t.emitter.emit("vf-fetch",{params:{q:"newfolder",m:"post",adapter:t.fs.adapter,path:t.fs.data.dirname},body:{name:s.value},onSuccess:()=>{t.emitter.emit("vf-toast-push",{label:o("%s is created.",s.value)})},onError:i=>{r.value=o(i.message)}})};return(i,c)=>(e.openBlock(),e.createBlock(Te,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:l,class:"vf-btn vf-btn-primary"},e.toDisplayString(e.unref(o)("Create")),1),e.createElementVNode("button",{type:"button",onClick:c[2]||(c[2]=a=>e.unref(t).modal.close()),class:"vf-btn vf-btn-secondary"},e.toDisplayString(e.unref(o)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",null,[e.createVNode(Pe,{icon:e.unref(Ie.NewFolderSVG),title:e.unref(o)("New Folder")},null,8,["icon","title"]),e.createElementVNode("div",aa,[e.createElementVNode("div",ia,[e.createElementVNode("p",ca,e.toDisplayString(e.unref(o)("Create a new folder")),1),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":c[0]||(c[0]=a=>s.value=a),onKeyup:e.withKeys(l,["enter"]),class:"vuefinder__new-folder-modal__input",placeholder:e.unref(o)("Folder Name"),type:"text"},null,40,da),[[e.vModelText,s.value]]),r.value.length?(e.openBlock(),e.createBlock(Ae,{key:0,onHidden:c[1]||(c[1]=a=>r.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(r.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}},ua={class:"vuefinder__new-file-modal__content"},ma={class:"vuefinder__new-file-modal__form"},fa={class:"vuefinder__new-file-modal__description"},va=["placeholder"],_a={__name:"ModalNewFile",setup(n){const t=e.inject("ServiceContainer");t.storage;const{t:o}=t.i18n,s=e.ref(""),r=e.ref(""),l=()=>{s.value!==""&&t.emitter.emit("vf-fetch",{params:{q:"newfile",m:"post",adapter:t.fs.adapter,path:t.fs.data.dirname},body:{name:s.value},onSuccess:()=>{t.emitter.emit("vf-toast-push",{label:o("%s is created.",s.value)})},onError:i=>{r.value=o(i.message)}})};return(i,c)=>(e.openBlock(),e.createBlock(Te,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:l,class:"vf-btn vf-btn-primary"},e.toDisplayString(e.unref(o)("Create")),1),e.createElementVNode("button",{type:"button",onClick:c[2]||(c[2]=a=>e.unref(t).modal.close()),class:"vf-btn vf-btn-secondary"},e.toDisplayString(e.unref(o)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",null,[e.createVNode(Pe,{icon:e.unref(Ie.NewFileSVG),title:e.unref(o)("New File")},null,8,["icon","title"]),e.createElementVNode("div",ua,[e.createElementVNode("div",ma,[e.createElementVNode("p",fa,e.toDisplayString(e.unref(o)("Create a new file")),1),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":c[0]||(c[0]=a=>s.value=a),onKeyup:e.withKeys(l,["enter"]),class:"vuefinder__new-file-modal__input",placeholder:e.unref(o)("File Name"),type:"text"},null,40,va),[[e.vModelText,s.value]]),r.value.length?(e.openBlock(),e.createBlock(Ae,{key:0,onHidden:c[1]||(c[1]=a=>r.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(r.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}};function yn(n,t=14){let o=`((?=([\\w\\W]{0,${t}}))([\\w\\W]{${t+1},})([\\w\\W]{8,}))`;return n.replace(new RegExp(o),"$2..$4")}const pa={class:"vuefinder__upload-modal__content"},ha={key:0,class:"pointer-events-none"},ga={key:1,class:"pointer-events-none"},ba=["disabled"],ya=["disabled"],ka={class:"vuefinder__upload-modal__file-list vf-scrollbar"},wa=["textContent"],Ea={class:"vuefinder__upload-modal__file-info"},Sa={class:"vuefinder__upload-modal__file-name hidden md:block"},Va={class:"vuefinder__upload-modal__file-name md:hidden"},Na={key:0,class:"ml-auto"},Ca=["title","disabled","onClick"],xa={key:0,class:"py-2"},Ba=["disabled"],$a={__name:"ModalUpload",setup(n){const t=e.inject("ServiceContainer"),{t:o}=t.i18n,s=o("uppy"),r={PENDING:0,CANCELED:1,UPLOADING:2,ERROR:3,DONE:10},l=e.ref({QUEUE_ENTRY_STATUS:r}),i=e.ref(null),c=e.ref(null),a=e.ref(null),d=e.ref(null),m=e.ref(null),u=e.ref(null),v=e.ref([]),f=e.ref(""),_=e.ref(!1),b=e.ref(!1);let k;function V(g){return v.value.findIndex(A=>A.id===g)}function T(g,A=null){A=A??(g.webkitRelativePath||g.name),k.addFile({name:A,type:g.type,data:g,source:"Local"})}function N(g){switch(g.status){case r.DONE:return"text-green-600";case r.ERROR:return"text-red-600";case r.CANCELED:return"text-red-600";case r.PENDING:default:return""}}const w=g=>{switch(g.status){case r.DONE:return"✓";case r.ERROR:case r.CANCELED:return"!";case r.PENDING:default:return"..."}};function x(){d.value.click()}function D(){if(!_.value){if(!v.value.filter(g=>g.status!==r.DONE).length){f.value=o("Please select file to upload first.");return}f.value="",k.retryAll(),k.upload()}}function L(){k.cancelAll({reason:"user"}),v.value.forEach(g=>{g.status!==r.DONE&&(g.status=r.CANCELED,g.statusName=o("Canceled"))}),_.value=!1}function $(g){_.value||(k.removeFile(g.id,"removed-by-user"),v.value.splice(V(g.id),1))}function p(g){if(!_.value){if(k.cancelAll({reason:"user"}),g){const A=[];v.value.forEach(y=>{y.status!==r.DONE&&A.push(y)}),v.value=[],A.forEach(y=>{T(y.originalFile,y.name)});return}v.value.splice(0)}}function h(){t.modal.close()}function B(){return t.requester.transformRequestParams({url:"",method:"post",params:{q:"upload",adapter:t.fs.adapter,path:t.fs.data.dirname}})}return e.onMounted(async()=>{k=new hr({debug:t.debug,restrictions:{maxFileSize:xr(t.maxFileSize)},locale:s,onBeforeFileAdded(y,M){if(M[y.id]!=null){const H=V(y.id);v.value[H].status===r.PENDING&&(f.value=k.i18n("noDuplicates",{fileName:y.name})),v.value=v.value.filter(G=>G.id!==y.id)}return v.value.push({id:y.id,name:y.name,size:t.filesize(y.size),status:r.PENDING,statusName:o("Pending upload"),percent:null,originalFile:y.data}),!0}}),k.use(gr,{endpoint:"WILL_BE_REPLACED_BEFORE_UPLOAD",limit:5,timeout:0,getResponseError(y,M){let F;try{F=JSON.parse(y).message}catch{F=o("Cannot parse server response.")}return new Error(F)}}),k.on("restriction-failed",(y,M)=>{const F=v.value[V(y.id)];$(F),f.value=M.message}),k.on("upload",()=>{const y=B();k.setMeta({...y.body});const M=k.getPlugin("XHRUpload");M.opts.method=y.method,M.opts.endpoint=y.url+"?"+new URLSearchParams(y.params),M.opts.headers=y.headers,delete y.headers["Content-Type"],_.value=!0,v.value.forEach(F=>{F.status!==r.DONE&&(F.percent=null,F.status=r.UPLOADING,F.statusName=o("Pending upload"))})}),k.on("upload-progress",(y,M)=>{const F=Math.floor(M.bytesUploaded/M.bytesTotal*100);v.value[V(y.id)].percent=`${F}%`}),k.on("upload-success",y=>{const M=v.value[V(y.id)];M.status=r.DONE,M.statusName=o("Done")}),k.on("upload-error",(y,M)=>{const F=v.value[V(y.id)];F.percent=null,F.status=r.ERROR,M.isNetworkError?F.statusName=o("Network Error, Unable establish connection to the server or interrupted."):F.statusName=M?M.message:o("Unknown Error")}),k.on("error",y=>{f.value=y.message,_.value=!1,t.emitter.emit("vf-fetch",{params:{q:"index",adapter:t.fs.adapter,path:t.fs.data.dirname},noCloseModal:!0})}),k.on("complete",()=>{_.value=!1,t.emitter.emit("vf-fetch",{params:{q:"index",adapter:t.fs.adapter,path:t.fs.data.dirname},noCloseModal:!0})}),d.value.addEventListener("click",()=>{c.value.click()}),m.value.addEventListener("click",()=>{a.value.click()}),u.value.addEventListener("dragover",y=>{y.preventDefault(),b.value=!0}),u.value.addEventListener("dragleave",y=>{y.preventDefault(),b.value=!1});function g(y,M){M.isFile&&M.file(F=>y(M,F)),M.isDirectory&&M.createReader().readEntries(F=>{F.forEach(H=>{g(y,H)})})}u.value.addEventListener("drop",y=>{y.preventDefault(),b.value=!1;const M=/^[/\\](.+)/;[...y.dataTransfer.items].forEach(F=>{F.kind==="file"&&g((H,G)=>{const E=M.exec(H.fullPath);T(G,E[1])},F.webkitGetAsEntry())})});const A=({target:y})=>{const M=y.files;for(const F of M)T(F);y.value=""};c.value.addEventListener("change",A),a.value.addEventListener("change",A)}),e.onBeforeUnmount(()=>{k==null||k.close({reason:"unmount"})}),(g,A)=>(e.openBlock(),e.createBlock(Te,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",class:"vf-btn vf-btn-primary",disabled:_.value,onClick:e.withModifiers(D,["prevent"])},e.toDisplayString(e.unref(o)("Upload")),9,Ba),_.value?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",class:"vf-btn vf-btn-secondary",onClick:e.withModifiers(L,["prevent"])},e.toDisplayString(e.unref(o)("Cancel")),1)):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"vf-btn vf-btn-secondary",onClick:e.withModifiers(h,["prevent"])},e.toDisplayString(e.unref(o)("Close")),1))]),default:e.withCtx(()=>[e.createElementVNode("div",null,[e.createVNode(Pe,{icon:e.unref(Ie.UploadSVG),title:e.unref(o)("Upload Files")},null,8,["icon","title"]),e.createElementVNode("div",pa,[e.createElementVNode("div",{class:"vuefinder__upload-modal__drop-area",ref_key:"dropArea",ref:u,onClick:x},[b.value?(e.openBlock(),e.createElementBlock("div",ha,e.toDisplayString(e.unref(o)("Release to drop these files.")),1)):(e.openBlock(),e.createElementBlock("div",ga,e.toDisplayString(e.unref(o)("Drag and drop the files/folders to here or click here.")),1))],512),e.createElementVNode("div",{ref_key:"container",ref:i,class:"vuefinder__upload-modal__buttons"},[e.createElementVNode("button",{ref_key:"pickFiles",ref:d,type:"button",class:"vf-btn vf-btn-secondary"},e.toDisplayString(e.unref(o)("Select Files")),513),e.createElementVNode("button",{ref_key:"pickFolders",ref:m,type:"button",class:"vf-btn vf-btn-secondary"},e.toDisplayString(e.unref(o)("Select Folders")),513),e.createElementVNode("button",{type:"button",class:"vf-btn vf-btn-secondary",disabled:_.value,onClick:A[0]||(A[0]=y=>p(!1))},e.toDisplayString(e.unref(o)("Clear all")),9,ba),e.createElementVNode("button",{type:"button",class:"vf-btn vf-btn-secondary",disabled:_.value,onClick:A[1]||(A[1]=y=>p(!0))},e.toDisplayString(e.unref(o)("Clear only successful")),9,ya)],512),e.createElementVNode("div",ka,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(v.value,y=>(e.openBlock(),e.createElementBlock("div",{class:"vuefinder__upload-modal__file-entry",key:y.id},[e.createElementVNode("span",{class:e.normalizeClass(["vuefinder__upload-modal__file-icon",N(y)])},[e.createElementVNode("span",{class:"vuefinder__upload-modal__file-icon-text",textContent:e.toDisplayString(w(y))},null,8,wa)],2),e.createElementVNode("div",Ea,[e.createElementVNode("div",Sa,e.toDisplayString(e.unref(yn)(y.name,40))+" ("+e.toDisplayString(y.size)+")",1),e.createElementVNode("div",Va,e.toDisplayString(e.unref(yn)(y.name,16))+" ("+e.toDisplayString(y.size)+")",1),e.createElementVNode("div",{class:e.normalizeClass(["vuefinder__upload-modal__file-status",N(y)])},[e.createTextVNode(e.toDisplayString(y.statusName)+" ",1),y.status===l.value.QUEUE_ENTRY_STATUS.UPLOADING?(e.openBlock(),e.createElementBlock("b",Na,e.toDisplayString(y.percent),1)):e.createCommentVNode("",!0)],2)]),e.createElementVNode("button",{type:"button",class:e.normalizeClass(["vuefinder__upload-modal__file-remove",_.value?"disabled":""]),title:e.unref(o)("Delete"),disabled:_.value,onClick:M=>$(y)},A[3]||(A[3]=[e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"vuefinder__upload-modal__file-remove-icon"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]),10,Ca)]))),128)),v.value.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",xa,e.toDisplayString(e.unref(o)("No files selected!")),1))]),f.value.length?(e.openBlock(),e.createBlock(Ae,{key:0,onHidden:A[2]||(A[2]=y=>f.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(f.value),1)]),_:1})):e.createCommentVNode("",!0)])]),e.createElementVNode("input",{ref_key:"internalFileInput",ref:c,type:"file",multiple:"",class:"hidden"},null,512),e.createElementVNode("input",{ref_key:"internalFolderInput",ref:a,type:"file",multiple:"",webkitdirectory:"",class:"hidden"},null,512)]),_:1}))}},Da={class:"vuefinder__unarchive-modal__content"},Ta={class:"vuefinder__unarchive-modal__items"},Aa={class:"vuefinder__unarchive-modal__item"},Ma={key:0,class:"vuefinder__unarchive-modal__icon vuefinder__unarchive-modal__icon--dir",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Oa={key:1,class:"vuefinder__unarchive-modal__icon vuefinder__unarchive-modal__icon--file",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Fa={class:"vuefinder__unarchive-modal__item-name"},La={class:"vuefinder__unarchive-modal__info"},tr={__name:"ModalUnarchive",setup(n){const t=e.inject("ServiceContainer"),{t:o}=t.i18n,s=e.ref(t.modal.data.items[0]),r=e.ref(""),l=e.ref([]),i=()=>{t.emitter.emit("vf-fetch",{params:{q:"unarchive",m:"post",adapter:t.fs.adapter,path:t.fs.data.dirname},body:{item:s.value.path},onSuccess:()=>{t.emitter.emit("vf-toast-push",{label:o("The file unarchived.")})},onError:c=>{r.value=o(c.message)}})};return(c,a)=>(e.openBlock(),e.createBlock(Te,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:i,class:"vf-btn vf-btn-primary"},e.toDisplayString(e.unref(o)("Unarchive")),1),e.createElementVNode("button",{type:"button",onClick:a[1]||(a[1]=d=>e.unref(t).modal.close()),class:"vf-btn vf-btn-secondary"},e.toDisplayString(e.unref(o)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",null,[e.createVNode(Pe,{icon:e.unref(Ie.UnarchiveSVG),title:e.unref(o)("Unarchive")},null,8,["icon","title"]),e.createElementVNode("div",Da,[e.createElementVNode("div",Ta,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,d=>(e.openBlock(),e.createElementBlock("p",Aa,[d.type==="dir"?(e.openBlock(),e.createElementBlock("svg",Ma,a[2]||(a[2]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)]))):(e.openBlock(),e.createElementBlock("svg",Oa,a[3]||(a[3]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)]))),e.createElementVNode("span",Fa,e.toDisplayString(d.basename),1)]))),256)),e.createElementVNode("p",La,e.toDisplayString(e.unref(o)("The archive will be unarchived at"))+" ("+e.toDisplayString(e.unref(t).fs.data.dirname)+")",1),r.value.length?(e.openBlock(),e.createBlock(Ae,{key:0,onHidden:a[0]||(a[0]=d=>r.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(r.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}},Ia={class:"vuefinder__archive-modal__content"},Pa={class:"vuefinder__archive-modal__form"},Ra={class:"vuefinder__archive-modal__files vf-scrollbar"},qa={class:"vuefinder__archive-modal__file"},Ua={key:0,class:"vuefinder__archive-modal__icon vuefinder__archive-modal__icon--dir",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},za={key:1,class:"vuefinder__archive-modal__icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},Ha={class:"vuefinder__archive-modal__file-name"},ja=["placeholder"],nr={__name:"ModalArchive",setup(n){const t=e.inject("ServiceContainer"),{t:o}=t.i18n,s=e.ref(""),r=e.ref(""),l=e.ref(t.modal.data.items),i=()=>{l.value.length&&t.emitter.emit("vf-fetch",{params:{q:"archive",m:"post",adapter:t.fs.adapter,path:t.fs.data.dirname},body:{items:l.value.map(({path:c,type:a})=>({path:c,type:a})),name:s.value},onSuccess:()=>{t.emitter.emit("vf-toast-push",{label:o("The file(s) archived.")})},onError:c=>{r.value=o(c.message)}})};return(c,a)=>(e.openBlock(),e.createBlock(Te,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:i,class:"vf-btn vf-btn-primary"},e.toDisplayString(e.unref(o)("Archive")),1),e.createElementVNode("button",{type:"button",onClick:a[2]||(a[2]=d=>e.unref(t).modal.close()),class:"vf-btn vf-btn-secondary"},e.toDisplayString(e.unref(o)("Cancel")),1)]),default:e.withCtx(()=>[e.createElementVNode("div",null,[e.createVNode(Pe,{icon:e.unref(Ie.ArchiveSVG),title:e.unref(o)("Archive the files")},null,8,["icon","title"]),e.createElementVNode("div",Ia,[e.createElementVNode("div",Pa,[e.createElementVNode("div",Ra,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,d=>(e.openBlock(),e.createElementBlock("p",qa,[d.type==="dir"?(e.openBlock(),e.createElementBlock("svg",Ua,a[3]||(a[3]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)]))):(e.openBlock(),e.createElementBlock("svg",za,a[4]||(a[4]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)]))),e.createElementVNode("span",Ha,e.toDisplayString(d.basename),1)]))),256))]),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":a[0]||(a[0]=d=>s.value=d),onKeyup:e.withKeys(i,["enter"]),class:"vuefinder__archive-modal__input",placeholder:e.unref(o)("Archive name. (.zip file will be created)"),type:"text"},null,40,ja),[[e.vModelText,s.value]]),r.value.length?(e.openBlock(),e.createBlock(Ae,{key:0,onHidden:a[1]||(a[1]=d=>r.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(r.value),1)]),_:1})):e.createCommentVNode("",!0)])])])]),_:1}))}},j={__name:"Icon",props:{icon:{type:String,required:!0}},setup(n){const t=e.inject("ServiceContainer"),{icons:o,iconComponent:s}=t,r=n,l=e.computed(()=>({...s.props??{}})),i=e.computed(()=>o[r.icon]?e.defineAsyncComponent(()=>o[r.icon]):(console.error(`Icon ${r.icon} not found`),null));return(c,a)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(i.value),e.normalizeProps(e.guardReactiveProps(l.value)),null,16))}},Ka={class:"vuefinder__toolbar"},Wa={key:0,class:"vuefinder__toolbar__actions"},Ga=["title"],Ya=["title"],Xa=["title"],Za=["title"],Ja=["title"],Qa=["title"],ei=["title"],ti={key:1,class:"vuefinder__toolbar__search-results"},ni={class:"pl-2"},oi={class:"dark:bg-gray-700 bg-gray-200 text-xs px-2 py-1 rounded"},ri={class:"vuefinder__toolbar__controls"},si=["title"],li=["title"],ai={__name:"Toolbar",setup(n){const t=e.inject("ServiceContainer"),{setStore:o}=t.storage,{t:s}=t.i18n,r=t.dragSelect,l=e.ref("");t.emitter.on("vf-search-query",({newQuery:a})=>{l.value=a});const i=()=>{t.fullScreen=!t.fullScreen};e.watch(()=>t.fullScreen,()=>{t.fullScreen?document.querySelector("body").style.overflow="hidden":document.querySelector("body").style.overflow="",o("full-screen",t.fullScreen),t.emitter.emit("vf-fullscreen-toggle")});const c=()=>{t.view=t.view==="list"?"grid":"list",r.refreshSelection(),o("viewport",t.view)};return(a,d)=>(e.openBlock(),e.createElementBlock("div",Ka,[l.value.length?(e.openBlock(),e.createElementBlock("div",ti,[e.createElementVNode("div",ni,[e.createTextVNode(e.toDisplayString(e.unref(s)("Search results for"))+" ",1),e.createElementVNode("span",oi,e.toDisplayString(l.value),1)]),e.unref(t).loadingIndicator==="circular"&&e.unref(t).fs.loading?(e.openBlock(),e.createBlock(j,{key:0,icon:"loading"})):e.createCommentVNode("",!0)])):(e.openBlock(),e.createElementBlock("div",Wa,[e.unref(t).features.includes(e.unref(Q).NEW_FOLDER)?(e.openBlock(),e.createElementBlock("div",{key:0,class:"mx-1.5",title:e.unref(s)("New Folder"),onClick:d[0]||(d[0]=m=>e.unref(t).modal.open(er,{items:e.unref(r).getSelected()}))},[e.createVNode(j,{icon:"new_folder"})],8,Ga)):e.createCommentVNode("",!0),e.unref(t).features.includes(e.unref(Q).NEW_FILE)?(e.openBlock(),e.createElementBlock("div",{key:1,class:"mx-1.5",title:e.unref(s)("New File"),onClick:d[1]||(d[1]=m=>e.unref(t).modal.open(_a,{items:e.unref(r).getSelected()}))},[e.createVNode(j,{icon:"new_file"})],8,Ya)):e.createCommentVNode("",!0),e.unref(t).features.includes(e.unref(Q).RENAME)?(e.openBlock(),e.createElementBlock("div",{key:2,class:"mx-1.5",title:e.unref(s)("Rename"),onClick:d[2]||(d[2]=m=>e.unref(r).getCount()!==1||e.unref(t).modal.open(Ln,{items:e.unref(r).getSelected()}))},[e.createVNode(j,{icon:"rename",class:e.normalizeClass(e.unref(r).getCount()===1?"vf-toolbar-icon":"vf-toolbar-icon-disabled")},null,8,["class"])],8,Xa)):e.createCommentVNode("",!0),e.unref(t).features.includes(e.unref(Q).DELETE)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"mx-1.5",title:e.unref(s)("Delete"),onClick:d[3]||(d[3]=m=>!e.unref(r).getCount()||e.unref(t).modal.open(Fn,{items:e.unref(r).getSelected()}))},[e.createVNode(j,{icon:"delete",class:e.normalizeClass(e.unref(r).getCount()?"vf-toolbar-icon":"vf-toolbar-icon-disabled")},null,8,["class"])],8,Za)):e.createCommentVNode("",!0),e.unref(t).features.includes(e.unref(Q).UPLOAD)?(e.openBlock(),e.createElementBlock("div",{key:4,class:"mx-1.5",title:e.unref(s)("Upload"),onClick:d[4]||(d[4]=m=>e.unref(t).modal.open($a,{items:e.unref(r).getSelected()}))},[e.createVNode(j,{icon:"upload"})],8,Ja)):e.createCommentVNode("",!0),e.unref(t).features.includes(e.unref(Q).UNARCHIVE)&&e.unref(r).getCount()===1&&e.unref(r).getSelected()[0].mime_type==="application/zip"?(e.openBlock(),e.createElementBlock("div",{key:5,class:"mx-1.5",title:e.unref(s)("Unarchive"),onClick:d[5]||(d[5]=m=>!e.unref(r).getCount()||e.unref(t).modal.open(tr,{items:e.unref(r).getSelected()}))},[e.createVNode(j,{icon:"unarchive",class:e.normalizeClass(e.unref(r).getCount()?"vf-toolbar-icon":"vf-toolbar-icon-disabled")},null,8,["class"])],8,Qa)):e.createCommentVNode("",!0),e.unref(t).features.includes(e.unref(Q).ARCHIVE)?(e.openBlock(),e.createElementBlock("div",{key:6,class:"mx-1.5",title:e.unref(s)("Archive"),onClick:d[6]||(d[6]=m=>!e.unref(r).getCount()||e.unref(t).modal.open(nr,{items:e.unref(r).getSelected()}))},[e.createVNode(j,{icon:"archive",class:e.normalizeClass(e.unref(r).getCount()?"vf-toolbar-icon":"vf-toolbar-icon-disabled")},null,8,["class"])],8,ei)):e.createCommentVNode("",!0)])),e.createElementVNode("div",ri,[e.unref(t).features.includes(e.unref(Q).FULL_SCREEN)?(e.openBlock(),e.createElementBlock("div",{key:0,onClick:i,class:"mx-1.5",title:e.unref(s)("Toggle Full Screen")},[e.unref(t).fullScreen?(e.openBlock(),e.createBlock(j,{key:0,icon:"minimize"})):(e.openBlock(),e.createBlock(j,{key:1,icon:"full_screen"}))],8,si)):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"mx-1.5",title:e.unref(s)("Change View"),onClick:d[7]||(d[7]=m=>l.value.length||c())},[e.unref(t).view==="grid"?(e.openBlock(),e.createBlock(j,{key:0,icon:"grid_view",class:e.normalizeClass(["vf-toolbar-icon",l.value.length?"vf-toolbar-icon-disabled":""])},null,8,["class"])):e.createCommentVNode("",!0),e.unref(t).view==="list"?(e.openBlock(),e.createBlock(j,{key:1,icon:"list_view",class:e.normalizeClass(["vf-toolbar-icon",l.value.length?"vf-toolbar-icon-disabled":""])},null,8,["class"])):e.createCommentVNode("",!0)],8,li)])]))}},ii=(n,t=0,o=!1)=>{let s;return(...r)=>{o&&!s&&n(...r),clearTimeout(s),s=setTimeout(()=>{n(...r)},t)}},lo=(n,t,o)=>{const s=e.ref(n);return e.customRef((r,l)=>({get(){return r(),s.value},set:ii(i=>{s.value=i,l()},t,o)}))},ci={class:"vuefinder__move-modal__content"},di={class:"vuefinder__move-modal__description"},ui={class:"vuefinder__move-modal__files vf-scrollbar"},mi={class:"vuefinder__move-modal__file"},fi={key:0,class:"vuefinder__move-modal__icon vuefinder__move-modal__icon--dir",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},vi={key:1,class:"vuefinder__move-modal__icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},_i={class:"vuefinder__move-modal__file-name"},pi={class:"vuefinder__move-modal__target-title"},hi={class:"vuefinder__move-modal__target-directory"},gi={class:"vuefinder__move-modal__target-path"},bi={class:"vuefinder__move-modal__selected-items"},kn={__name:"ModalMove",setup(n){const t=e.inject("ServiceContainer"),{t:o}=t.i18n,s=e.ref(t.modal.data.items.from),r=e.ref(""),l=()=>{s.value.length&&t.emitter.emit("vf-fetch",{params:{q:"move",m:"post",adapter:t.fs.adapter,path:t.fs.data.dirname},body:{items:s.value.map(({path:i,type:c})=>({path:i,type:c})),item:t.modal.data.items.to.path},onSuccess:()=>{t.emitter.emit("vf-toast-push",{label:o("Files moved.",t.modal.data.items.to.name)})},onError:i=>{r.value=o(i.message)}})};return(i,c)=>(e.openBlock(),e.createBlock(Te,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:l,class:"vf-btn vf-btn-primary"},e.toDisplayString(e.unref(o)("Yes, Move!")),1),e.createElementVNode("button",{type:"button",onClick:c[1]||(c[1]=a=>e.unref(t).modal.close()),class:"vf-btn vf-btn-secondary"},e.toDisplayString(e.unref(o)("Cancel")),1),e.createElementVNode("div",bi,e.toDisplayString(e.unref(o)("%s item(s) selected.",s.value.length)),1)]),default:e.withCtx(()=>[e.createElementVNode("div",null,[e.createVNode(Pe,{icon:e.unref(Ie.MoveSVG),title:e.unref(o)("Move files")},null,8,["icon","title"]),e.createElementVNode("div",ci,[e.createElementVNode("p",di,e.toDisplayString(e.unref(o)("Are you sure you want to move these files?")),1),e.createElementVNode("div",ui,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,a=>(e.openBlock(),e.createElementBlock("div",mi,[e.createElementVNode("div",null,[a.type==="dir"?(e.openBlock(),e.createElementBlock("svg",fi,c[2]||(c[2]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"},null,-1)]))):(e.openBlock(),e.createElementBlock("svg",vi,c[3]||(c[3]=[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"},null,-1)])))]),e.createElementVNode("div",_i,e.toDisplayString(a.path),1)]))),256))]),e.createElementVNode("h4",pi,e.toDisplayString(e.unref(o)("Target Directory")),1),e.createElementVNode("p",hi,[c[4]||(c[4]=e.createElementVNode("svg",{xmlns:"http://www.w3.org/2000/svg",class:"vuefinder__move-modal__icon vuefinder__move-modal__icon--dir",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})],-1)),e.createElementVNode("span",gi,e.toDisplayString(e.unref(t).modal.data.items.to.path),1)]),r.value.length?(e.openBlock(),e.createBlock(Ae,{key:0,onHidden:c[0]||(c[0]=a=>r.value=""),error:""},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(r.value),1)]),_:1})):e.createCommentVNode("",!0)])])]),_:1}))}},yi={class:"vuefinder__breadcrumb__container"},ki=["title"],wi=["title"],Ei=["title"],Si=["title"],Vi={class:"vuefinder__breadcrumb__list"},Ni={key:0,class:"vuefinder__breadcrumb__hidden-list"},Ci={class:"relative"},xi=["onDragover","onDragleave","onDrop","title","onClick"],Bi={class:"vuefinder__breadcrumb__search-mode"},$i=["placeholder"],Di={class:"vuefinder__breadcrumb__hidden-dropdown"},Ti=["onDrop","onClick"],Ai={class:"vuefinder__breadcrumb__hidden-item-content"},Mi={class:"vuefinder__breadcrumb__hidden-item-text"},Oi={__name:"Breadcrumb",setup(n){const t=e.inject("ServiceContainer"),{t:o}=t.i18n,s=t.dragSelect,{setStore:r}=t.storage,l=e.ref(null),i=lo(0,100);e.watch(i,$=>{const p=l.value.children;let h=0,B=0,g=5,A=1;t.fs.limitBreadcrumbItems(g),e.nextTick(()=>{for(let y=p.length-1;y>=0&&!(h+p[y].offsetWidth>i.value-40);y--)h+=parseInt(p[y].offsetWidth,10),B++;B<A&&(B=A),B>g&&(B=g),t.fs.limitBreadcrumbItems(B)})});const c=()=>{i.value=l.value.offsetWidth};let a=e.ref(null);e.onMounted(()=>{a.value=new ResizeObserver(c),a.value.observe(l.value)}),e.onUnmounted(()=>{a.value.disconnect()});const d=($,p=null)=>{$.preventDefault(),s.isDraggingRef.value=!1,v($),p??(p=t.fs.hiddenBreadcrumbs.length-1);let h=JSON.parse($.dataTransfer.getData("items"));if(h.find(B=>B.storage!==t.fs.adapter)){alert("Moving items between different storages is not supported yet.");return}t.modal.open(kn,{items:{from:h,to:t.fs.hiddenBreadcrumbs[p]??{path:t.fs.adapter+"://"}}})},m=($,p=null)=>{$.preventDefault(),s.isDraggingRef.value=!1,v($),p??(p=t.fs.breadcrumbs.length-2);let h=JSON.parse($.dataTransfer.getData("items"));if(h.find(B=>B.storage!==t.fs.adapter)){alert("Moving items between different storages is not supported yet.");return}t.modal.open(kn,{items:{from:h,to:t.fs.breadcrumbs[p]??{path:t.fs.adapter+"://"}}})},u=$=>{$.preventDefault(),t.fs.isGoUpAvailable()?($.dataTransfer.dropEffect="copy",$.currentTarget.classList.add("bg-blue-200","dark:bg-slate-600")):($.dataTransfer.dropEffect="none",$.dataTransfer.effectAllowed="none")},v=$=>{$.preventDefault(),$.currentTarget.classList.remove("bg-blue-200","dark:bg-slate-600"),t.fs.isGoUpAvailable()&&$.currentTarget.classList.remove("bg-blue-200","dark:bg-slate-600")},f=()=>{D(),t.emitter.emit("vf-fetch",{params:{q:"index",adapter:t.fs.adapter,path:t.fs.data.dirname}})},_=()=>{D(),!t.fs.isGoUpAvailable()||t.emitter.emit("vf-fetch",{params:{q:"index",adapter:t.fs.adapter,path:t.fs.parentFolderPath}})},b=$=>{t.emitter.emit("vf-fetch",{params:{q:"index",adapter:t.fs.adapter,path:$.path}}),t.fs.toggleHiddenBreadcrumbs(!1)},k=()=>{t.fs.showHiddenBreadcrumbs&&t.fs.toggleHiddenBreadcrumbs(!1)},V={mounted($,p,h,B){$.clickOutsideEvent=function(g){$===g.target||$.contains(g.target)||p.value()},document.body.addEventListener("click",$.clickOutsideEvent)},beforeUnmount($,p,h,B){document.body.removeEventListener("click",$.clickOutsideEvent)}},T=()=>{t.showTreeView=!t.showTreeView};e.watch(()=>t.showTreeView,($,p)=>{$!==p&&r("show-tree-view",$)});const N=e.ref(null),w=()=>{t.features.includes(Q.SEARCH)&&(t.fs.searchMode=!0,e.nextTick(()=>N.value.focus()))},x=lo("",400);e.watch(x,$=>{t.emitter.emit("vf-toast-clear"),t.emitter.emit("vf-search-query",{newQuery:$})}),e.watch(()=>t.fs.searchMode,$=>{$&&e.nextTick(()=>N.value.focus())});const D=()=>{t.fs.searchMode=!1,x.value=""};t.emitter.on("vf-search-exit",()=>{D()});const L=()=>{x.value===""&&D()};return($,p)=>(e.openBlock(),e.createElementBlock("div",yi,[e.createElementVNode("span",{title:e.unref(o)("Toggle Tree View")},[e.createVNode(j,{icon:"list_tree",onClick:T,class:e.normalizeClass(["vuefinder__breadcrumb__toggle-tree",e.unref(t).showTreeView?"vuefinder__breadcrumb__toggle-tree--active":""])},null,8,["class"])],8,ki),e.createElementVNode("span",{title:e.unref(o)("Go up a directory")},[e.createVNode(j,{icon:"go_up",onDragover:p[0]||(p[0]=h=>u(h)),onDragleave:p[1]||(p[1]=h=>v(h)),onDrop:p[2]||(p[2]=h=>m(h)),onClick:_,class:e.normalizeClass(e.unref(t).fs.isGoUpAvailable()?"vuefinder__breadcrumb__go-up--active":"vuefinder__breadcrumb__go-up--inactive")},null,8,["class"])],8,wi),e.unref(t).fs.loading?(e.openBlock(),e.createElementBlock("span",{key:1,title:e.unref(o)("Cancel")},[e.createVNode(j,{icon:"close",onClick:p[3]||(p[3]=h=>e.unref(t).emitter.emit("vf-fetch-abort"))})],8,Si)):(e.openBlock(),e.createElementBlock("span",{key:0,title:e.unref(o)("Refresh")},[e.createVNode(j,{icon:"refresh",onClick:f})],8,Ei)),e.withDirectives(e.createElementVNode("div",{onClick:e.withModifiers(w,["self"]),class:"group vuefinder__breadcrumb__search-container"},[e.createElementVNode("div",null,[e.createVNode(j,{icon:"home",onDragover:p[4]||(p[4]=h=>u(h)),onDragleave:p[5]||(p[5]=h=>v(h)),onDrop:p[6]||(p[6]=h=>m(h,-1)),onClick:p[7]||(p[7]=h=>e.unref(t).emitter.emit("vf-fetch",{params:{q:"index",adapter:e.unref(t).fs.adapter}}))})]),e.createElementVNode("div",Vi,[e.unref(t).fs.hiddenBreadcrumbs.length?e.withDirectives((e.openBlock(),e.createElementBlock("div",Ni,[p[13]||(p[13]=e.createElementVNode("div",{class:"vuefinder__breadcrumb__separator"},"/",-1)),e.createElementVNode("div",Ci,[e.createElementVNode("span",{onDragenter:p[8]||(p[8]=h=>e.unref(t).fs.toggleHiddenBreadcrumbs(!0)),onClick:p[9]||(p[9]=h=>e.unref(t).fs.toggleHiddenBreadcrumbs()),class:"vuefinder__breadcrumb__hidden-toggle"},[e.createVNode(j,{icon:"dots",class:"vuefinder__breadcrumb__hidden-toggle-icon"})],32)])])),[[V,k]]):e.createCommentVNode("",!0)]),e.createElementVNode("div",{ref_key:"breadcrumbContainer",ref:l,class:"vuefinder__breadcrumb__visible-list",onClick:e.withModifiers(w,["self"])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(t).fs.breadcrumbs,(h,B)=>(e.openBlock(),e.createElementBlock("div",{key:B},[p[14]||(p[14]=e.createElementVNode("span",{class:"vuefinder__breadcrumb__separator"},"/",-1)),e.createElementVNode("span",{onDragover:g=>B===e.unref(t).fs.breadcrumbs.length-1||u(g),onDragleave:g=>B===e.unref(t).fs.breadcrumbs.length-1||v(g),onDrop:g=>B===e.unref(t).fs.breadcrumbs.length-1||m(g,B),class:"vuefinder__breadcrumb__item",title:h.basename,onClick:g=>e.unref(t).emitter.emit("vf-fetch",{params:{q:"index",adapter:e.unref(t).fs.adapter,path:h.path}})},e.toDisplayString(h.name),41,xi)]))),128))],512),e.unref(t).loadingIndicator==="circular"&&e.unref(t).fs.loading?(e.openBlock(),e.createBlock(j,{key:0,icon:"loading"})):e.createCommentVNode("",!0)],512),[[e.vShow,!e.unref(t).fs.searchMode]]),e.withDirectives(e.createElementVNode("div",Bi,[e.createElementVNode("div",null,[e.createVNode(j,{icon:"search"})]),e.withDirectives(e.createElementVNode("input",{ref_key:"searchInput",ref:N,onKeydown:e.withKeys(D,["esc"]),onBlur:L,"onUpdate:modelValue":p[10]||(p[10]=h=>e.isRef(x)?x.value=h:null),placeholder:e.unref(o)("Search anything.."),class:"vuefinder__breadcrumb__search-input",type:"text"},null,40,$i),[[e.vModelText,e.unref(x)]]),e.createVNode(j,{icon:"exit",onClick:D})],512),[[e.vShow,e.unref(t).fs.searchMode]]),e.withDirectives(e.createElementVNode("div",Di,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(t).fs.hiddenBreadcrumbs,(h,B)=>(e.openBlock(),e.createElementBlock("div",{key:B,onDragover:p[11]||(p[11]=g=>u(g)),onDragleave:p[12]||(p[12]=g=>v(g)),onDrop:g=>d(g,B),onClick:g=>b(h),class:"vuefinder__breadcrumb__hidden-item"},[e.createElementVNode("div",Ai,[e.createElementVNode("span",null,[e.createVNode(j,{icon:"folder",class:"vuefinder__breadcrumb__hidden-item-icon"})]),p[15]||(p[15]=e.createTextVNode()),e.createElementVNode("span",Mi,e.toDisplayString(h.name),1)])],40,Ti))),128))],512),[[e.vShow,e.unref(t).fs.showHiddenBreadcrumbs]])]))}},or=(n,t=null)=>new Date(n*1e3).toLocaleString(t??navigator.language??"en-US"),Fi=["onClick"],Li={__name:"Toast",setup(n){const t=e.inject("ServiceContainer"),{getStore:o}=t.storage,s=e.ref(o("full-screen",!1)),r=e.ref([]),l=a=>a==="error"?"text-red-400 border-red-400 dark:text-red-300 dark:border-red-300":"text-lime-600 border-lime-600 dark:text-lime-300 dark:border-lime-1300",i=a=>{r.value.splice(a,1)},c=a=>{let d=r.value.findIndex(m=>m.id===a);d!==-1&&i(d)};return t.emitter.on("vf-toast-clear",()=>{r.value=[]}),t.emitter.on("vf-toast-push",a=>{let d=new Date().getTime().toString(36).concat(performance.now().toString(),Math.random().toString()).replace(/\./g,"");a.id=d,r.value.push(a),setTimeout(()=>{c(d)},5e3)}),(a,d)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["vuefinder__toast",s.value.value?"vuefinder__toast--fixed":"vuefinder__toast--absolute"])},[e.createVNode(e.TransitionGroup,{name:"vuefinder__toast-item","enter-active-class":"vuefinder__toast-item--enter-active","leave-active-class":"vuefinder__toast-item--leave-active","leave-to-class":"vuefinder__toast-item--leave-to"},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value,(m,u)=>(e.openBlock(),e.createElementBlock("div",{key:u,onClick:v=>i(u),class:e.normalizeClass(["vuefinder__toast__message",l(m.type)])},e.toDisplayString(m.label),11,Fi))),128))]),_:1})],2))}},Nt={__name:"SortIcon",props:{direction:String},setup(n){return(t,o)=>{const s=e.resolveComponent("Icon");return e.openBlock(),e.createElementBlock("div",null,[n.direction==="asc"?(e.openBlock(),e.createBlock(s,{key:0,icon:"asc"})):e.createCommentVNode("",!0),n.direction==="desc"?(e.openBlock(),e.createBlock(s,{key:1,icon:"desc"})):e.createCommentVNode("",!0)])}}},Ii={class:"vuefinder__item-icon"},nn={__name:"ItemIcon",props:{type:{type:String,required:!0},small:{type:Boolean,default:!1}},setup(n){return(t,o)=>(e.openBlock(),e.createElementBlock("span",Ii,[n.type==="dir"?(e.openBlock(),e.createBlock(j,{key:0,icon:"folder",class:e.normalizeClass(n.small?"vuefinder__item-icon--small":"vuefinder__item-icon--large")},null,8,["class"])):(e.openBlock(),e.createBlock(j,{key:1,icon:"file",class:e.normalizeClass(n.small?"vuefinder__item-icon--small":"vuefinder__item-icon--large")},null,8,["class"]))]))}},Pi={class:"vuefinder__drag-item__container"},Ri={class:"vuefinder__drag-item__count"},qi={__name:"DragItem",props:{count:{type:Number,default:0}},setup(n){const t=n;return(o,s)=>(e.openBlock(),e.createElementBlock("div",Pi,[e.createVNode(j,{icon:"drag"}),e.createElementVNode("div",Ri,e.toDisplayString(t.count),1)]))}},Ui={class:"vuefinder__text-preview"},zi={class:"vuefinder__text-preview__header"},Hi=["title"],ji={class:"vuefinder__text-preview__actions"},Ki={key:0,class:"vuefinder__text-preview__content"},Wi={key:1},Gi={__name:"Text",emits:["success"],setup(n,{emit:t}){const o=t,s=e.ref(""),r=e.ref(""),l=e.ref(null),i=e.ref(!1),c=e.ref(""),a=e.ref(!1),d=e.inject("ServiceContainer"),{t:m}=d.i18n;e.onMounted(()=>{d.requester.send({url:"",method:"get",params:{q:"preview",adapter:d.modal.data.adapter,path:d.modal.data.item.path},responseType:"text"}).then(f=>{s.value=f,o("success")})});const u=()=>{i.value=!i.value,r.value=s.value},v=()=>{c.value="",a.value=!1,d.requester.send({url:"",method:"post",params:{q:"save",adapter:d.modal.data.adapter,path:d.modal.data.item.path},body:{content:r.value},responseType:"text"}).then(f=>{c.value=m("Updated."),s.value=f,o("success"),i.value=!i.value}).catch(f=>{c.value=m(f.message),a.value=!0})};return(f,_)=>(e.openBlock(),e.createElementBlock("div",Ui,[e.createElementVNode("div",zi,[e.createElementVNode("div",{class:"vuefinder__text-preview__title",id:"modal-title",title:e.unref(d).modal.data.item.path},e.toDisplayString(e.unref(d).modal.data.item.basename),9,Hi),e.createElementVNode("div",ji,[i.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:v,class:"vuefinder__text-preview__save-button"},e.toDisplayString(e.unref(m)("Save")),1)):e.createCommentVNode("",!0),e.unref(d).features.includes(e.unref(Q).EDIT)?(e.openBlock(),e.createElementBlock("button",{key:1,class:"vuefinder__text-preview__edit-button",onClick:_[0]||(_[0]=b=>u())},e.toDisplayString(i.value?e.unref(m)("Cancel"):e.unref(m)("Edit")),1)):e.createCommentVNode("",!0)])]),e.createElementVNode("div",null,[i.value?(e.openBlock(),e.createElementBlock("div",Wi,[e.withDirectives(e.createElementVNode("textarea",{ref_key:"editInput",ref:l,"onUpdate:modelValue":_[1]||(_[1]=b=>r.value=b),class:"vuefinder__text-preview__textarea",name:"text",cols:"30",rows:"10"},null,512),[[e.vModelText,r.value]])])):(e.openBlock(),e.createElementBlock("pre",Ki,e.toDisplayString(s.value),1)),c.value.length?(e.openBlock(),e.createBlock(Ae,{key:2,onHidden:_[2]||(_[2]=b=>c.value=""),error:a.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(c.value),1)]),_:1},8,["error"])):e.createCommentVNode("",!0)])]))}},Yi={class:"vuefinder__image-preview"},Xi={class:"vuefinder__image-preview__header"},Zi=["title"],Ji={class:"vuefinder__image-preview__actions"},Qi={class:"vuefinder__image-preview__image-container"},ec=["src"],tc={__name:"Image",emits:["success"],setup(n,{emit:t}){const o=t,s=e.inject("ServiceContainer"),{t:r}=s.i18n,l=e.ref(null),i=e.ref(null),c=e.ref(!1),a=e.ref(""),d=e.ref(!1),m=()=>{c.value=!c.value,c.value?i.value=new yr(l.value,{crop(v){}}):i.value.destroy()},u=()=>{i.value.getCroppedCanvas({width:795,height:341}).toBlob(v=>{a.value="",d.value=!1;const f=new FormData;f.set("file",v),s.requester.send({url:"",method:"post",params:{q:"upload",adapter:s.modal.data.adapter,path:s.modal.data.item.path},body:f}).then(_=>{a.value=r("Updated."),l.value.src=s.requester.getPreviewUrl(s.modal.data.adapter,s.modal.data.item),m(),o("success")}).catch(_=>{a.value=r(_.message),d.value=!0})})};return e.onMounted(()=>{o("success")}),(v,f)=>(e.openBlock(),e.createElementBlock("div",Yi,[e.createElementVNode("div",Xi,[e.createElementVNode("h3",{class:"vuefinder__image-preview__title",id:"modal-title",title:e.unref(s).modal.data.item.path},e.toDisplayString(e.unref(s).modal.data.item.basename),9,Zi),e.createElementVNode("div",Ji,[c.value?(e.openBlock(),e.createElementBlock("button",{key:0,onClick:u,class:"vuefinder__image-preview__crop-button"},e.toDisplayString(e.unref(r)("Crop")),1)):e.createCommentVNode("",!0),e.unref(s).features.includes(e.unref(Q).EDIT)?(e.openBlock(),e.createElementBlock("button",{key:1,class:"vuefinder__image-preview__edit-button",onClick:f[0]||(f[0]=_=>m())},e.toDisplayString(c.value?e.unref(r)("Cancel"):e.unref(r)("Edit")),1)):e.createCommentVNode("",!0)])]),e.createElementVNode("div",Qi,[e.createElementVNode("img",{ref_key:"image",ref:l,class:"vuefinder__image-preview__image",src:e.unref(s).requester.getPreviewUrl(e.unref(s).modal.data.adapter,e.unref(s).modal.data.item),alt:""},null,8,ec)]),a.value.length?(e.openBlock(),e.createBlock(Ae,{key:0,onHidden:f[1]||(f[1]=_=>a.value=""),error:d.value},{default:e.withCtx(()=>[e.createTextVNode(e.toDisplayString(a.value),1)]),_:1},8,["error"])):e.createCommentVNode("",!0)]))}},nc={class:"vuefinder__default-preview"},oc={class:"vuefinder__default-preview__header"},rc=["title"],sc={__name:"Default",emits:["success"],setup(n,{emit:t}){const o=e.inject("ServiceContainer"),s=t;return e.onMounted(()=>{s("success")}),(r,l)=>(e.openBlock(),e.createElementBlock("div",nc,[e.createElementVNode("div",oc,[e.createElementVNode("h3",{class:"vuefinder__default-preview__title",id:"modal-title",title:e.unref(o).modal.data.item.path},e.toDisplayString(e.unref(o).modal.data.item.basename),9,rc)]),l[0]||(l[0]=e.createElementVNode("div",null,null,-1))]))}},lc={class:"vuefinder__video-preview"},ac=["title"],ic={class:"vuefinder__video-preview__video",preload:"",controls:""},cc=["src"],dc={__name:"Video",emits:["success"],setup(n,{emit:t}){const o=e.inject("ServiceContainer"),s=t,r=()=>o.requester.getPreviewUrl(o.modal.data.adapter,o.modal.data.item);return e.onMounted(()=>{s("success")}),(l,i)=>(e.openBlock(),e.createElementBlock("div",lc,[e.createElementVNode("h3",{class:"vuefinder__video-preview__title",id:"modal-title",title:e.unref(o).modal.data.item.path},e.toDisplayString(e.unref(o).modal.data.item.basename),9,ac),e.createElementVNode("div",null,[e.createElementVNode("video",ic,[e.createElementVNode("source",{src:r(),type:"video/mp4"},null,8,cc),i[0]||(i[0]=e.createTextVNode(" Your browser does not support the video tag. "))])])]))}},uc={class:"vuefinder__audio-preview"},mc=["title"],fc={class:"vuefinder__audio-preview__audio",controls:""},vc=["src"],_c={__name:"Audio",emits:["success"],setup(n,{emit:t}){const o=t,s=e.inject("ServiceContainer"),r=()=>s.requester.getPreviewUrl(s.modal.data.adapter,s.modal.data.item);return e.onMounted(()=>{o("success")}),(l,i)=>(e.openBlock(),e.createElementBlock("div",uc,[e.createElementVNode("h3",{class:"vuefinder__audio-preview__title",id:"modal-title",title:e.unref(s).modal.data.item.path},e.toDisplayString(e.unref(s).modal.data.item.basename),9,mc),e.createElementVNode("div",null,[e.createElementVNode("audio",fc,[e.createElementVNode("source",{src:r(),type:"audio/mpeg"},null,8,vc),i[0]||(i[0]=e.createTextVNode(" Your browser does not support the audio element. "))])])]))}},pc={class:"vuefinder__pdf-preview"},hc=["title"],gc=["data"],bc=["src"],yc={__name:"Pdf",emits:["success"],setup(n,{emit:t}){const o=e.inject("ServiceContainer"),s=t,r=()=>o.requester.getPreviewUrl(o.modal.data.adapter,o.modal.data.item);return e.onMounted(()=>{s("success")}),(l,i)=>(e.openBlock(),e.createElementBlock("div",pc,[e.createElementVNode("h3",{class:"vuefinder__pdf-preview__title",id:"modal-title",title:e.unref(o).modal.data.item.path},e.toDisplayString(e.unref(o).modal.data.item.basename),9,hc),e.createElementVNode("div",null,[e.createElementVNode("object",{class:"vuefinder__pdf-preview__object",data:r(),type:"application/pdf",width:"100%",height:"100%"},[e.createElementVNode("iframe",{class:"vuefinder__pdf-preview__iframe",src:r(),width:"100%",height:"100%"}," Your browser does not support PDFs ",8,bc)],8,gc)])]))}},kc={class:"vuefinder__preview-modal__content"},wc={key:0},Ec={class:"vuefinder__preview-modal__loading"},Sc={key:0,class:"vuefinder__preview-modal__loading-indicator"},Vc={class:"vuefinder__preview-modal__details"},Nc={class:"font-bold"},Cc={class:"font-bold pl-2"},xc={key:0,class:"vuefinder__preview-modal__note"},Bc=["download","href"],rr={__name:"ModalPreview",setup(n){const t=e.inject("ServiceContainer"),{t:o}=t.i18n,s=e.ref(!1),r=i=>(t.modal.data.item.mime_type??"").startsWith(i),l=t.features.includes(Q.PREVIEW);return l||(s.value=!0),(i,c)=>(e.openBlock(),e.createBlock(Te,null,{buttons:e.withCtx(()=>[e.createElementVNode("button",{type:"button",onClick:c[6]||(c[6]=a=>e.unref(t).modal.close()),class:"vf-btn vf-btn-secondary"},e.toDisplayString(e.unref(o)("Close")),1),e.unref(t).features.includes(e.unref(Q).DOWNLOAD)?(e.openBlock(),e.createElementBlock("a",{key:0,target:"_blank",class:"vf-btn vf-btn-primary",download:e.unref(t).requester.getDownloadUrl(e.unref(t).modal.data.adapter,e.unref(t).modal.data.item),href:e.unref(t).requester.getDownloadUrl(e.unref(t).modal.data.adapter,e.unref(t).modal.data.item)},e.toDisplayString(e.unref(o)("Download")),9,Bc)):e.createCommentVNode("",!0)]),default:e.withCtx(()=>[e.createElementVNode("div",null,[e.createElementVNode("div",kc,[e.unref(l)?(e.openBlock(),e.createElementBlock("div",wc,[r("text")?(e.openBlock(),e.createBlock(Gi,{key:0,onSuccess:c[0]||(c[0]=a=>s.value=!0)})):r("image")?(e.openBlock(),e.createBlock(tc,{key:1,onSuccess:c[1]||(c[1]=a=>s.value=!0)})):r("video")?(e.openBlock(),e.createBlock(dc,{key:2,onSuccess:c[2]||(c[2]=a=>s.value=!0)})):r("audio")?(e.openBlock(),e.createBlock(_c,{key:3,onSuccess:c[3]||(c[3]=a=>s.value=!0)})):r("application/pdf")?(e.openBlock(),e.createBlock(yc,{key:4,onSuccess:c[4]||(c[4]=a=>s.value=!0)})):(e.openBlock(),e.createBlock(sc,{key:5,onSuccess:c[5]||(c[5]=a=>s.value=!0)}))])):e.createCommentVNode("",!0),e.createElementVNode("div",Ec,[s.value===!1?(e.openBlock(),e.createElementBlock("div",Sc,[c[7]||(c[7]=e.createElementVNode("svg",{class:"vuefinder__preview-modal__spinner",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e.createElementVNode("circle",{class:"vuefinder__preview-modal__spinner-circle",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e.createElementVNode("path",{class:"vuefinder__preview-modal__spinner-path",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),e.createElementVNode("span",null,e.toDisplayString(e.unref(o)("Loading")),1)])):e.createCommentVNode("",!0)])])]),e.createElementVNode("div",Vc,[e.createElementVNode("div",null,[e.createElementVNode("span",Nc,e.toDisplayString(e.unref(o)("File Size"))+": ",1),e.createTextVNode(e.toDisplayString(e.unref(t).filesize(e.unref(t).modal.data.item.file_size)),1)]),e.createElementVNode("div",null,[e.createElementVNode("span",Cc,e.toDisplayString(e.unref(o)("Last Modified"))+": ",1),e.createTextVNode(" "+e.toDisplayString(e.unref(or)(e.unref(t).modal.data.item.last_modified)),1)])]),e.unref(t).features.includes(e.unref(Q).DOWNLOAD)?(e.openBlock(),e.createElementBlock("div",xc,[e.createElementVNode("span",null,e.toDisplayString(e.unref(o)(`Download doesn't work? You can try right-click "Download" button, select "Save link as...".`)),1)])):e.createCommentVNode("",!0)]),_:1}))}},$c=["data-type","data-item","data-index"],on={__name:"Item",props:{item:{type:Object},index:{type:Number},dragImage:{type:Object}},setup(n){const t=e.inject("ServiceContainer"),o=t.dragSelect,s=n,r=f=>{f.type==="dir"?(t.emitter.emit("vf-search-exit"),t.emitter.emit("vf-fetch",{params:{q:"index",adapter:t.fs.adapter,path:f.path}})):t.modal.open(rr,{adapter:t.fs.adapter,item:f})},l={mounted(f,_,b,k){b.props.draggable&&(f.addEventListener("dragstart",V=>i(V,_.value)),f.addEventListener("dragover",V=>a(V,_.value)),f.addEventListener("drop",V=>c(V,_.value)))},beforeUnmount(f,_,b,k){b.props.draggable&&(f.removeEventListener("dragstart",i),f.removeEventListener("dragover",a),f.removeEventListener("drop",c))}},i=(f,_)=>{if(f.altKey||f.ctrlKey||f.metaKey)return f.preventDefault(),!1;o.isDraggingRef.value=!0,f.dataTransfer.setDragImage(s.dragImage.$el,0,15),f.dataTransfer.effectAllowed="all",f.dataTransfer.dropEffect="copy",f.dataTransfer.setData("items",JSON.stringify(o.getSelected()))},c=(f,_)=>{f.preventDefault(),o.isDraggingRef.value=!1;let b=JSON.parse(f.dataTransfer.getData("items"));if(b.find(k=>k.storage!==t.fs.adapter)){alert("Moving items between different storages is not supported yet.");return}t.modal.open(kn,{items:{from:b,to:_}})},a=(f,_)=>{f.preventDefault(),!_||_.type!=="dir"||o.getSelection().find(b=>b===f.currentTarget)?(f.dataTransfer.dropEffect="none",f.dataTransfer.effectAllowed="none"):f.dataTransfer.dropEffect="copy"};let d=null,m=!1;const u=()=>{d&&clearTimeout(d)},v=f=>{if(!m)m=!0,setTimeout(()=>m=!1,300);else return m=!1,r(s.item),clearTimeout(d),!1;d=setTimeout(()=>{const _=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!1,view:window,button:2,buttons:0,clientX:f.target.getBoundingClientRect().x,clientY:f.target.getBoundingClientRect().y});f.target.dispatchEvent(_)},500)};return(f,_)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{style:e.normalizeStyle({opacity:e.unref(o).isDraggingRef.value&&e.unref(o).getSelection().find(b=>f.$el===b)?"0.5 !important":""}),class:e.normalizeClass(["vuefinder__item","vf-item-"+e.unref(o).explorerId]),"data-type":n.item.type,key:n.item.path,"data-item":JSON.stringify(n.item),"data-index":n.index,onDblclick:_[0]||(_[0]=b=>r(n.item)),onTouchstart:_[1]||(_[1]=b=>v(b)),onTouchend:_[2]||(_[2]=b=>u()),onContextmenu:_[3]||(_[3]=e.withModifiers(b=>e.unref(t).emitter.emit("vf-contextmenu-show",{event:b,items:e.unref(o).getSelected(),target:n.item}),["prevent"]))},[e.renderSlot(f.$slots,"default"),e.unref(t).pinnedFolders.find(b=>b.path===n.item.path)?(e.openBlock(),e.createBlock(j,{key:0,icon:"pin",class:"vuefinder__item--pinned"})):e.createCommentVNode("",!0)],46,$c)),[[l,n.item]])}},Dc={class:"vuefinder__explorer__container"},Tc={key:0,class:"vuefinder__explorer__header"},Ac={class:"vuefinder__explorer__drag-item"},Mc={key:0,class:"vuefinder__linear-loader absolute"},Oc={class:"vuefinder__explorer__item-list-content"},Fc={class:"vuefinder__explorer__item-list-name"},Lc={class:"vuefinder__explorer__item-name"},Ic={class:"vuefinder__explorer__item-path"},Pc={class:"vuefinder__explorer__item-list-content"},Rc={class:"vuefinder__explorer__item-list-name"},qc={class:"vuefinder__explorer__item-name"},Uc={class:"vuefinder__explorer__item-size"},zc={class:"vuefinder__explorer__item-date"},Hc={class:"vuefinder__explorer__item-grid-content"},jc=["data-src","alt"],Kc={key:2,class:"vuefinder__explorer__item-extension"},Wc={class:"vuefinder__explorer__item-title break-all"},Gc={__name:"Explorer",setup(n){const t=e.inject("ServiceContainer"),{t:o}=t.i18n,s=u=>u==null?void 0:u.substring(0,3),r=e.ref(null),l=e.ref(""),i=t.dragSelect;let c;t.emitter.on("vf-fullscreen-toggle",()=>{i.area.value.style.height=null}),t.emitter.on("vf-search-query",({newQuery:u})=>{l.value=u,u?t.emitter.emit("vf-fetch",{params:{q:"search",adapter:t.fs.adapter,path:t.fs.data.dirname,filter:u},onSuccess:v=>{v.files.length||t.emitter.emit("vf-toast-push",{label:o("No search result found.")})}}):t.emitter.emit("vf-fetch",{params:{q:"index",adapter:t.fs.adapter,path:t.fs.data.dirname}})});const a=e.reactive({active:!1,column:"",order:""}),d=(u=!0)=>{let v=[...t.fs.data.files],f=a.column,_=a.order==="asc"?1:-1;if(!u)return v;const b=(k,V)=>typeof k=="string"&&typeof V=="string"?k.toLowerCase().localeCompare(V.toLowerCase()):k<V?-1:k>V?1:0;return a.active&&(v=v.slice().sort((k,V)=>b(k[f],V[f])*_)),v},m=u=>{a.active&&a.column===u?(a.active=a.order==="asc",a.column=u,a.order="desc"):(a.active=!0,a.column=u,a.order="asc")};return e.onMounted(()=>{c=new br(i.area.value)}),e.onUpdated(()=>{c.update()}),e.onBeforeUnmount(()=>{c.destroy()}),(u,v)=>(e.openBlock(),e.createElementBlock("div",Dc,[e.unref(t).view==="list"||l.value.length?(e.openBlock(),e.createElementBlock("div",Tc,[e.createElementVNode("div",{onClick:v[0]||(v[0]=f=>m("basename")),class:"vuefinder__explorer__sort-button vuefinder__explorer__sort-button--name vf-sort-button"},[e.createTextVNode(e.toDisplayString(e.unref(o)("Name"))+" ",1),e.withDirectives(e.createVNode(Nt,{direction:a.order},null,8,["direction"]),[[e.vShow,a.active&&a.column==="basename"]])]),l.value.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:0,onClick:v[1]||(v[1]=f=>m("file_size")),class:"vuefinder__explorer__sort-button vuefinder__explorer__sort-button--size vf-sort-button"},[e.createTextVNode(e.toDisplayString(e.unref(o)("Size"))+" ",1),e.withDirectives(e.createVNode(Nt,{direction:a.order},null,8,["direction"]),[[e.vShow,a.active&&a.column==="file_size"]])])),l.value.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,onClick:v[2]||(v[2]=f=>m("last_modified")),class:"vuefinder__explorer__sort-button vuefinder__explorer__sort-button--date vf-sort-button"},[e.createTextVNode(e.toDisplayString(e.unref(o)("Date"))+" ",1),e.withDirectives(e.createVNode(Nt,{direction:a.order},null,8,["direction"]),[[e.vShow,a.active&&a.column==="last_modified"]])])),l.value.length?(e.openBlock(),e.createElementBlock("div",{key:2,onClick:v[3]||(v[3]=f=>m("path")),class:"vuefinder__explorer__sort-button vuefinder__explorer__sort-button--path vf-sort-button"},[e.createTextVNode(e.toDisplayString(e.unref(o)("Filepath"))+" ",1),e.withDirectives(e.createVNode(Nt,{direction:a.order},null,8,["direction"]),[[e.vShow,a.active&&a.column==="path"]])])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("div",Ac,[e.createVNode(qi,{ref_key:"dragImage",ref:r,count:e.unref(i).getCount()},null,8,["count"])]),e.createElementVNode("div",{ref:e.unref(i).scrollBarContainer,class:e.normalizeClass(["vf-explorer-scrollbar-container vuefinder__explorer__scrollbar-container",[{"grid-view":e.unref(t).view==="grid"},{"search-active":l.value.length}]])},[e.createElementVNode("div",{ref:e.unref(i).scrollBar,class:"vuefinder__explorer__scrollbar"},null,512)],2),e.createElementVNode("div",{ref:e.unref(i).area,class:"vuefinder__explorer__selector-area vf-explorer-scrollbar vf-selector-area min-h-32",onContextmenu:v[4]||(v[4]=e.withModifiers(f=>e.unref(t).emitter.emit("vf-contextmenu-show",{event:f,items:e.unref(i).getSelected()}),["self","prevent"]))},[e.unref(t).loadingIndicator==="linear"&&e.unref(t).fs.loading?(e.openBlock(),e.createElementBlock("div",Mc)):e.createCommentVNode("",!0),l.value.length?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(d(),(f,_)=>(e.openBlock(),e.createBlock(on,{item:f,index:_,dragImage:r.value,class:"vf-item vf-item-list"},{default:e.withCtx(()=>[e.createElementVNode("div",Oc,[e.createElementVNode("div",Fc,[e.createVNode(nn,{type:f.type,small:e.unref(t).compactListView},null,8,["type","small"]),e.createElementVNode("span",Lc,e.toDisplayString(f.basename),1)]),e.createElementVNode("div",Ic,e.toDisplayString(f.path),1)])]),_:2},1032,["item","index","dragImage"]))),256)):e.createCommentVNode("",!0),e.unref(t).view==="list"&&!l.value.length?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:2},e.renderList(d(),(f,_)=>(e.openBlock(),e.createBlock(on,{item:f,index:_,dragImage:r.value,class:"vf-item vf-item-list",draggable:"true",key:f.path},{default:e.withCtx(()=>[e.createElementVNode("div",Pc,[e.createElementVNode("div",Rc,[e.createVNode(nn,{type:f.type,small:e.unref(t).compactListView},null,8,["type","small"]),e.createElementVNode("span",qc,e.toDisplayString(f.basename),1)]),e.createElementVNode("div",Uc,e.toDisplayString(f.file_size?e.unref(t).filesize(f.file_size):""),1),e.createElementVNode("div",zc,e.toDisplayString(e.unref(or)(f.last_modified)),1)])]),_:2},1032,["item","index","dragImage"]))),128)):e.createCommentVNode("",!0),e.unref(t).view==="grid"&&!l.value.length?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:3},e.renderList(d(!1),(f,_)=>(e.openBlock(),e.createBlock(on,{item:f,index:_,dragImage:r.value,class:"vf-item vf-item-grid",draggable:"true"},{default:e.withCtx(()=>[e.createElementVNode("div",null,[e.createElementVNode("div",Hc,[(f.mime_type??"").startsWith("image")&&e.unref(t).showThumbnails?(e.openBlock(),e.createElementBlock("img",{src:"data:image/png;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",class:"vuefinder__explorer__item-thumbnail lazy","data-src":e.unref(t).requester.getPreviewUrl(e.unref(t).fs.adapter,f),alt:f.basename,key:f.path},null,8,jc)):(e.openBlock(),e.createBlock(nn,{key:1,type:f.type},null,8,["type"])),!((f.mime_type??"").startsWith("image")&&e.unref(t).showThumbnails)&&f.type!=="dir"?(e.openBlock(),e.createElementBlock("div",Kc,e.toDisplayString(s(f.extension)),1)):e.createCommentVNode("",!0)]),e.createElementVNode("span",Wc,e.toDisplayString(e.unref(yn)(f.basename)),1)])]),_:2},1032,["item","index","dragImage"]))),256)):e.createCommentVNode("",!0)],544),e.createVNode(Li)]))}},Yc=["href","download"],Xc=["onClick"],Zc={__name:"ContextMenu",setup(n){const t=e.inject("ServiceContainer"),o=e.ref(null),s=e.ref([]),r=e.ref(""),l=e.reactive({active:!1,items:[],positions:{left:0,top:0}});t.emitter.on("vf-context-selected",d=>{s.value=d});const i=d=>d.link(t,s),c=d=>{t.emitter.emit("vf-contextmenu-hide"),d.action(t,s)};t.emitter.on("vf-search-query",({newQuery:d})=>{r.value=d}),t.emitter.on("vf-contextmenu-show",({event:d,items:m,target:u=null})=>{if(l.items=t.contextMenuItems.filter(v=>v.show(t,{searchQuery:r.value,items:m,target:u})),r.value)if(u)t.emitter.emit("vf-context-selected",[u]);else return;else!u&&!r.value?t.emitter.emit("vf-context-selected",[]):m.length>1&&m.some(v=>v.path===u.path)?t.emitter.emit("vf-context-selected",m):t.emitter.emit("vf-context-selected",[u]);a(d)}),t.emitter.on("vf-contextmenu-hide",()=>{l.active=!1});const a=d=>{const m=t.dragSelect.area.value,u=t.root.getBoundingClientRect(),v=m.getBoundingClientRect();let f=d.clientX-u.left,_=d.clientY-u.top;l.active=!0,e.nextTick(()=>{var T;const b=(T=o.value)==null?void 0:T.getBoundingClientRect();let k=(b==null?void 0:b.height)??0,V=(b==null?void 0:b.width)??0;f=v.right-d.pageX+window.scrollX<V?f-V:f,_=v.bottom-d.pageY+window.scrollY<k?_-k:_,l.positions={left:f+"px",top:_+"px"}})};return(d,m)=>e.withDirectives((e.openBlock(),e.createElementBlock("ul",{ref_key:"contextmenu",ref:o,style:e.normalizeStyle(l.positions),class:"vuefinder__context-menu"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.items,u=>(e.openBlock(),e.createElementBlock("li",{class:"vuefinder__context-menu__item",key:u.title},[u.link?(e.openBlock(),e.createElementBlock("a",{key:0,class:"vuefinder__context-menu__link",target:"_blank",href:i(u),download:i(u),onClick:m[0]||(m[0]=v=>e.unref(t).emitter.emit("vf-contextmenu-hide"))},[e.createElementVNode("span",null,e.toDisplayString(u.title(e.unref(t).i18n)),1)],8,Yc)):(e.openBlock(),e.createElementBlock("div",{key:1,class:"vuefinder__context-menu__action",onClick:v=>c(u)},[e.createElementVNode("span",null,e.toDisplayString(u.title(e.unref(t).i18n)),1)],8,Xc))]))),128))],4)),[[e.vShow,l.active]])}},Jc={class:"vuefinder__status-bar__wrapper"},Qc={class:"vuefinder__status-bar__storage"},ed=["title"],td={class:"vuefinder__status-bar__storage-icon"},nd=["value"],od={class:"vuefinder__status-bar__info"},rd={key:0},sd={class:"vuefinder__status-bar__selected-count"},ld={class:"vuefinder__status-bar__actions"},ad=["disabled"],id=["title"],cd={__name:"Statusbar",setup(n){const t=e.inject("ServiceContainer"),{t:o}=t.i18n,{setStore:s}=t.storage,r=t.dragSelect,l=()=>{t.emitter.emit("vf-search-exit"),t.emitter.emit("vf-fetch",{params:{q:"index",adapter:t.fs.adapter}}),s("adapter",t.fs.adapter)},i=e.ref("");t.emitter.on("vf-search-query",({newQuery:a})=>{i.value=a});const c=e.computed(()=>{const a=t.selectButton.multiple?r.getSelected().length>0:r.getSelected().length===1;return t.selectButton.active&&a});return(a,d)=>(e.openBlock(),e.createElementBlock("div",Jc,[e.createElementVNode("div",Qc,[e.createElementVNode("div",{class:"vuefinder__status-bar__storage-container",title:e.unref(o)("Storage")},[e.createElementVNode("div",td,[e.createVNode(j,{icon:"storage"})]),e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":d[0]||(d[0]=m=>e.unref(t).fs.adapter=m),onChange:l,class:"vuefinder__status-bar__storage-select",tabindex:"-1"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(t).fs.data.storages,m=>(e.openBlock(),e.createElementBlock("option",{value:m},e.toDisplayString(m),9,nd))),256))],544),[[e.vModelSelect,e.unref(t).fs.adapter]])],8,ed),e.createElementVNode("div",od,[i.value.length?(e.openBlock(),e.createElementBlock("span",rd,e.toDisplayString(e.unref(t).fs.data.files.length)+" items found. ",1)):e.createCommentVNode("",!0),e.createElementVNode("span",sd,e.toDisplayString(e.unref(t).dragSelect.getCount()>0?e.unref(o)("%s item(s) selected.",e.unref(t).dragSelect.getCount()):""),1)])]),e.createElementVNode("div",ld,[e.unref(t).selectButton.active?(e.openBlock(),e.createElementBlock("button",{key:0,class:e.normalizeClass(["vf-btn py-0 vf-btn-primary",{disabled:!c.value}]),disabled:!c.value,onClick:d[1]||(d[1]=m=>e.unref(t).selectButton.click(e.unref(r).getSelected(),m))},e.toDisplayString(e.unref(o)("Select")),11,ad)):e.createCommentVNode("",!0),e.createElementVNode("span",{class:"vuefinder__status-bar__about",title:e.unref(o)("About"),onClick:d[2]||(d[2]=m=>e.unref(t).modal.open(Qo))},[e.createVNode(j,{icon:"about"})],8,id)])]))}};function sr(n,t){const o=n.findIndex(s=>s.path===t.path);o>-1?n[o]=t:n.push(t)}const dd={class:"vuefinder__folder-loader-indicator"},ud={key:1,class:"vuefinder__folder-loader-indicator--icon"},lr={__name:"FolderLoaderIndicator",props:e.mergeModels({adapter:{type:String,required:!0},path:{type:String,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const t=n,o=e.inject("ServiceContainer");o.i18n;const s=e.useModel(n,"modelValue"),r=e.ref(!1);e.watch(()=>s.value,()=>{var c;return((c=l())==null?void 0:c.folders.length)||i()});function l(){return o.treeViewData.find(c=>c.path===t.path)}const i=()=>{r.value=!0,o.requester.send({url:"",method:"get",params:{q:"subfolders",adapter:t.adapter,path:t.path}}).then(c=>{sr(o.treeViewData,{path:t.path,...c})}).catch(c=>{}).finally(()=>{r.value=!1})};return(c,a)=>{var d;return e.openBlock(),e.createElementBlock("div",dd,[r.value?(e.openBlock(),e.createBlock(j,{key:0,icon:"loading",class:"vuefinder__folder-loader-indicator--loading"})):(e.openBlock(),e.createElementBlock("div",ud,[s.value&&((d=l())!=null&&d.folders.length)?(e.openBlock(),e.createBlock(j,{key:0,icon:"minus",class:"vuefinder__folder-loader-indicator--minus"})):e.createCommentVNode("",!0),s.value?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(j,{key:1,icon:"plus",class:"vuefinder__folder-loader-indicator--plus"}))]))])}}},md={class:"vuefinder__treesubfolderlist__item-content"},fd=["onClick"],vd=["title","onClick"],_d={class:"vuefinder__treesubfolderlist__item-icon"},pd={class:"vuefinder__treesubfolderlist__subfolder"},hd={__name:"TreeSubfolderList",props:{adapter:{type:String,required:!0},path:{type:String,required:!0}},setup(n){const t=e.inject("ServiceContainer"),o=e.ref([]),s=n,r=e.ref(null);e.onMounted(()=>{s.path===s.adapter+"://"&&$e(r.value,{scrollbars:{theme:"vf-theme-dark dark:vf-theme-light"}})});const l=e.computed(()=>{var i;return((i=t.treeViewData.find(c=>c.path===s.path))==null?void 0:i.folders)||[]});return(i,c)=>{const a=e.resolveComponent("TreeSubfolderList",!0);return e.openBlock(),e.createElementBlock("ul",{ref_key:"parentSubfolderList",ref:r,class:"vuefinder__treesubfolderlist__container"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value,(d,m)=>(e.openBlock(),e.createElementBlock("li",{key:d.path,class:"vuefinder__treesubfolderlist__item"},[e.createElementVNode("div",md,[e.createElementVNode("div",{class:"vuefinder__treesubfolderlist__item-toggle",onClick:u=>o.value[d.path]=!o.value[d.path]},[e.createVNode(lr,{adapter:n.adapter,path:d.path,modelValue:o.value[d.path],"onUpdate:modelValue":u=>o.value[d.path]=u},null,8,["adapter","path","modelValue","onUpdate:modelValue"])],8,fd),e.createElementVNode("div",{class:"vuefinder__treesubfolderlist__item-link",title:d.path,onClick:u=>e.unref(t).emitter.emit("vf-fetch",{params:{q:"index",adapter:s.adapter,path:d.path}})},[e.createElementVNode("div",_d,[e.unref(t).fs.path===d.path?(e.openBlock(),e.createBlock(j,{key:0,icon:"open_folder"})):(e.openBlock(),e.createBlock(j,{key:1,icon:"folder"}))]),e.createElementVNode("div",{class:e.normalizeClass(["vuefinder__treesubfolderlist__item-text",{"vuefinder__treesubfolderlist__item-text--active":e.unref(t).fs.path===d.path}])},e.toDisplayString(d.basename),3)],8,vd)]),e.createElementVNode("div",pd,[e.withDirectives(e.createVNode(a,{adapter:s.adapter,path:d.path},null,8,["adapter","path"]),[[e.vShow,o.value[d.path]]])])]))),128))],512)}}},gd={__name:"TreeStorageItem",props:{storage:{type:String,required:!0}},setup(n){const t=e.inject("ServiceContainer"),{setStore:o}=t.storage,s=e.ref(!1);function r(l){l===t.fs.adapter?s.value=!s.value:(t.emitter.emit("vf-search-exit"),t.emitter.emit("vf-fetch",{params:{q:"index",adapter:l}}),o("adapter",l))}return(l,i)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{onClick:i[2]||(i[2]=c=>r(n.storage)),class:"vuefinder__treestorageitem__header"},[e.createElementVNode("div",{class:e.normalizeClass(["vuefinder__treestorageitem__info",n.storage===e.unref(t).fs.adapter?"vuefinder__treestorageitem__info--active":""])},[e.createElementVNode("div",{class:e.normalizeClass(["vuefinder__treestorageitem__icon",n.storage===e.unref(t).fs.adapter?"vuefinder__treestorageitem__icon--active":""])},[e.createVNode(j,{icon:"storage"})],2),e.createElementVNode("div",null,e.toDisplayString(n.storage),1)],2),e.createElementVNode("div",{class:"vuefinder__treestorageitem__loader",onClick:i[1]||(i[1]=e.withModifiers(c=>s.value=!s.value,["stop"]))},[e.createVNode(lr,{adapter:n.storage,path:n.storage+"://",modelValue:s.value,"onUpdate:modelValue":i[0]||(i[0]=c=>s.value=c)},null,8,["adapter","path","modelValue"])])]),e.withDirectives(e.createVNode(hd,{adapter:n.storage,path:n.storage+"://",class:"vuefinder__treestorageitem__subfolder"},null,8,["adapter","path"]),[[e.vShow,s.value]])],64))}},bd={class:"vuefinder__folder-indicator"},yd={class:"vuefinder__folder-indicator--icon"},kd={__name:"FolderIndicator",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(n){const t=e.useModel(n,"modelValue");return(o,s)=>(e.openBlock(),e.createElementBlock("div",bd,[e.createElementVNode("div",yd,[t.value?(e.openBlock(),e.createBlock(j,{key:0,icon:"minus",class:"vuefinder__folder-indicator--minus"})):e.createCommentVNode("",!0),t.value?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(j,{key:1,icon:"plus",class:"vuefinder__folder-indicator--plus"}))])]))}},wd={class:"vuefinder__treeview__header"},Ed={class:"vuefinder__treeview__pinned-label"},Sd={class:"vuefinder__treeview__pin-text text-nowrap"},Vd={key:0,class:"vuefinder__treeview__pinned-list"},Nd={class:"vuefinder__treeview__pinned-item"},Cd=["onClick"],xd=["title"],Bd=["onClick"],$d={key:0},Dd={class:"vuefinder__treeview__no-pinned"},Td={class:"vuefinder__treeview__storage"},Ad={__name:"TreeView",setup(n){const t=e.inject("ServiceContainer"),{t:o}=t.i18n,{getStore:s,setStore:r}=t.storage,l=e.ref(190),i=e.ref(s("pinned-folders-opened",!0));e.watch(i,m=>r("pinned-folders-opened",m));const c=m=>{t.pinnedFolders=t.pinnedFolders.filter(u=>u.path!==m.path),t.storage.setStore("pinned-folders",t.pinnedFolders)},a=m=>{const u=m.clientX,v=m.target.parentElement,f=v.getBoundingClientRect().width;v.classList.remove("transition-[width]"),v.classList.add("transition-none");const _=k=>{l.value=f+k.clientX-u,l.value<50&&(l.value=0,t.showTreeView=!1),l.value>50&&(t.showTreeView=!0)},b=()=>{const k=v.getBoundingClientRect();l.value=k.width,v.classList.add("transition-[width]"),v.classList.remove("transition-none"),window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",b)};window.addEventListener("mousemove",_),window.addEventListener("mouseup",b)},d=e.ref(null);return e.onMounted(()=>{$e(d.value,{overflow:{x:"hidden"},scrollbars:{theme:"vf-theme-dark dark:vf-theme-light"}})}),e.watch(t.fs.data,(m,u)=>{const v=m.files.filter(f=>f.type==="dir");sr(t.treeViewData,{path:t.fs.path,folders:v.map(f=>({adapter:f.storage,path:f.path,basename:f.basename}))})}),(m,u)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{onClick:u[0]||(u[0]=v=>e.unref(t).showTreeView=!e.unref(t).showTreeView),class:e.normalizeClass(["vuefinder__treeview__overlay",e.unref(t).showTreeView?"vuefinder__treeview__backdrop":"hidden"])},null,2),e.createElementVNode("div",{style:e.normalizeStyle(e.unref(t).showTreeView?"min-width:100px;max-width:75%; width: "+l.value+"px":"width: 0"),class:"vuefinder__treeview__container"},[e.createElementVNode("div",{ref_key:"treeViewScrollElement",ref:d,class:"vuefinder__treeview__scroll"},[e.createElementVNode("div",wd,[e.createElementVNode("div",{onClick:u[2]||(u[2]=v=>i.value=!i.value),class:"vuefinder__treeview__pinned-toggle"},[e.createElementVNode("div",Ed,[e.createVNode(j,{icon:"pin",class:"vuefinder__treeview__pin-icon"}),e.createElementVNode("div",Sd,e.toDisplayString(e.unref(o)("Pinned Folders")),1)]),e.createVNode(kd,{modelValue:i.value,"onUpdate:modelValue":u[1]||(u[1]=v=>i.value=v)},null,8,["modelValue"])]),i.value?(e.openBlock(),e.createElementBlock("ul",Vd,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(t).pinnedFolders,v=>(e.openBlock(),e.createElementBlock("li",Nd,[e.createElementVNode("div",{class:"vuefinder__treeview__pinned-folder",onClick:f=>e.unref(t).emitter.emit("vf-fetch",{params:{q:"index",adapter:v.storage,path:v.path}})},[e.unref(t).fs.path!==v.path?(e.openBlock(),e.createBlock(j,{key:0,icon:"folder",class:"vuefinder__treeview__folder-icon"})):e.createCommentVNode("",!0),e.unref(t).fs.path===v.path?(e.openBlock(),e.createBlock(j,{key:1,icon:"open_folder",class:"vuefinder__treeview__open-folder-icon"})):e.createCommentVNode("",!0),e.createElementVNode("div",{title:v.path,class:e.normalizeClass(["vuefinder__treeview__folder-name text-nowrap",{"vuefinder__treeview__folder-name--active":e.unref(t).fs.path===v.path}])},e.toDisplayString(v.basename),11,xd)],8,Cd),e.createElementVNode("div",{class:"vuefinder__treeview__remove-favorite",onClick:f=>c(v)},[e.createVNode(j,{icon:"x_box",class:"vuefinder__treeview__remove-icon"})],8,Bd)]))),256)),e.unref(t).pinnedFolders.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("li",$d,[e.createElementVNode("div",Dd,e.toDisplayString(e.unref(o)("No folders pinned")),1)]))])):e.createCommentVNode("",!0)]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(t).fs.data.storages,v=>(e.openBlock(),e.createElementBlock("div",Td,[e.createVNode(gd,{storage:v},null,8,["storage"])]))),256))],512),e.createElementVNode("div",{onMousedown:a,class:e.normalizeClass([(e.unref(t).showTreeView,""),"vuefinder__treeview__resize-handle"])},null,34)],4)],64))}};class ar{constructor(t,o,s,r){this.title=t,this.action=o,this.link=s,this.options=Object.assign({needsSearchQuery:!1,target:"one"},r)}show(t,o){var r,l;const s=i=>i.items.length>1&&i.items.some(c=>{var a;return c.path===((a=i.target)==null?void 0:a.path)})?"many":i.target?"one":null;return!(this.options.needsSearchQuery!==!!o.searchQuery||this.options.target!==void 0&&this.options.target!==s(o)||this.options.targetType!==void 0&&this.options.targetType!==((r=o.target)==null?void 0:r.type)||this.options.mimeType!==void 0&&this.options.mimeType!==((l=o.target)==null?void 0:l.mime_type)||this.options.feature!==void 0&&!t.features.includes(this.options.feature)||this.options.show!==void 0&&!this.options.show(t,o))}}function Ee(n,t){return n.map(o=>new ar(o.title,o.action,o.link,{...t,feature:o.key}))}const fe={newfolder:{key:Q.NEW_FOLDER,title:({t:n})=>n("New Folder"),action:n=>n.modal.open(er)},selectAll:{title:({t:n})=>n("Select All"),action:n=>n.dragSelect.selectAll()},pinFolder:{title:({t:n})=>n("Pin Folder"),action:(n,t)=>{n.pinnedFolders=n.pinnedFolders.concat(t.value),n.storage.setStore("pinned-folders",n.pinnedFolders)}},unpinFolder:{title:({t:n})=>n("Unpin Folder"),action:(n,t)=>{n.pinnedFolders=n.pinnedFolders.filter(o=>!t.value.find(s=>s.path===o.path)),n.storage.setStore("pinned-folders",n.pinnedFolders)}},delete:{key:Q.DELETE,title:({t:n})=>n("Delete"),action:(n,t)=>{n.modal.open(Fn,{items:t})}},refresh:{title:({t:n})=>n("Refresh"),action:n=>{n.emitter.emit("vf-fetch",{params:{q:"index",adapter:n.fs.adapter,path:n.fs.data.dirname}})}},preview:{key:Q.PREVIEW,title:({t:n})=>n("Preview"),action:(n,t)=>n.modal.open(rr,{adapter:n.fs.adapter,item:t.value[0]})},open:{title:({t:n})=>n("Open"),action:(n,t)=>{n.emitter.emit("vf-search-exit"),n.emitter.emit("vf-fetch",{params:{q:"index",adapter:n.fs.adapter,path:t.value[0].path}})}},openDir:{title:({t:n})=>n("Open containing folder"),action:(n,t)=>{n.emitter.emit("vf-search-exit"),n.emitter.emit("vf-fetch",{params:{q:"index",adapter:n.fs.adapter,path:t.value[0].dir}})}},download:{key:Q.DOWNLOAD,link:(n,t)=>n.requester.getDownloadUrl(n.fs.adapter,t.value[0]),title:({t:n})=>n("Download"),action:()=>{}},archive:{key:Q.ARCHIVE,title:({t:n})=>n("Archive"),action:(n,t)=>n.modal.open(nr,{items:t})},unarchive:{key:Q.UNARCHIVE,title:({t:n})=>n("Unarchive"),action:(n,t)=>n.modal.open(tr,{items:t})},rename:{key:Q.RENAME,title:({t:n})=>n("Rename"),action:(n,t)=>n.modal.open(Ln,{items:t})}},ir=[...Ee([fe.openDir],{needsSearchQuery:!0}),...Ee([fe.refresh,fe.selectAll,fe.newfolder],{target:null}),...Ee([fe.refresh,fe.archive,fe.delete],{target:"many"}),...Ee([fe.open],{targetType:"dir"}),...Ee([fe.unpinFolder],{targetType:"dir",show:(n,t)=>n.pinnedFolders.findIndex(o=>{var s;return o.path===((s=t.target)==null?void 0:s.path)})!==-1}),...Ee([fe.pinFolder],{targetType:"dir",show:(n,t)=>n.pinnedFolders.findIndex(o=>{var s;return o.path===((s=t.target)==null?void 0:s.path)})===-1}),...Ee([fe.preview,fe.download],{show:(n,t)=>{var o;return((o=t.target)==null?void 0:o.type)!=="dir"}}),...Ee([fe.rename],{numItems:"one"}),...Ee([fe.unarchive],{mimeType:"application/zip"}),...Ee([fe.archive],{show:(n,t)=>{var o;return((o=t.target)==null?void 0:o.mime_type)!=="application/zip"}}),...Ee([fe.delete],{})],Md={class:"vuefinder__main__content"},Od={__name:"VueFinder",props:{id:{type:String,default:"vf"},request:{type:[String,Object],required:!0},persist:{type:Boolean,default:!1},path:{type:String,default:""},features:{type:[Array,Boolean],default:!0},debug:{type:Boolean,default:!1},theme:{type:String,default:"system"},locale:{type:String,default:null},maxHeight:{type:String,default:"600px"},maxFileSize:{type:String,default:"10mb"},fullScreen:{type:Boolean,default:!1},showTreeView:{type:Boolean,default:!1},pinnedFolders:{type:Array,default:[]},showThumbnails:{type:Boolean,default:!0},selectButton:{type:Object,default(n){return{active:!1,multiple:!1,click:t=>{},...n}}},onError:{type:Function,default:null},loadingIndicator:{type:String,default:"circular"},contextMenuItems:{type:Array,default:()=>ir}},emits:["select","update:path"],setup(n,{emit:t}){const o=t,s=n,r=Os(s,e.inject("VueFinderOptions"));e.provide("ServiceContainer",r);const{setStore:l}=r.storage,i=e.ref(null);r.root=i;const c=r.dragSelect;la(r);const a=u=>{Object.assign(r.fs.data,u),c.clearSelection(),c.refreshSelection()};let d;r.emitter.on("vf-fetch-abort",()=>{d.abort(),r.fs.loading=!1}),r.emitter.on("vf-fetch",({params:u,body:v=null,onSuccess:f=null,onError:_=null,noCloseModal:b=!1})=>{["index","search"].includes(u.q)&&(d&&d.abort(),r.fs.loading=!0),d=new AbortController;const k=d.signal;r.requester.send({url:"",method:u.m||"get",params:u,body:v,abortSignal:k}).then(V=>{r.fs.adapter=V.adapter,r.persist&&(r.fs.path=V.dirname,l("path",r.fs.path)),b||r.modal.close(),a(V),f&&f(V)}).catch(V=>{console.error(V),_&&_(V)}).finally(()=>{["index","search"].includes(u.q)&&(r.fs.loading=!1)})});function m(u){let v={};u&&u.includes("://")&&(v={adapter:u.split("://")[0],path:u}),r.emitter.emit("vf-fetch",{params:{q:"index",adapter:r.fs.adapter,...v},onError:s.onError??(f=>{f.message&&r.emitter.emit("vf-toast-push",{label:f.message,type:"error"})})})}return e.onMounted(()=>{m(r.fs.path),e.watch(()=>s.path,u=>{m(u)}),c.onSelect(u=>{o("select",u)}),e.watch(()=>r.fs.data.dirname,u=>{o("update:path",u)})}),(u,v)=>(e.openBlock(),e.createElementBlock("div",{class:"vuefinder",ref_key:"root",ref:i,tabindex:"0"},[e.createElementVNode("div",{class:e.normalizeClass(e.unref(r).theme.actualValue)},[e.createElementVNode("div",{class:e.normalizeClass([e.unref(r).fullScreen?"vuefinder__main__fixed":"vuefinder__main__relative","vuefinder__main__container"]),style:e.normalizeStyle(e.unref(r).fullScreen?"":"max-height: "+n.maxHeight),onMousedown:v[0]||(v[0]=f=>e.unref(r).emitter.emit("vf-contextmenu-hide")),onTouchstart:v[1]||(v[1]=f=>e.unref(r).emitter.emit("vf-contextmenu-hide"))},[e.createVNode(ai),e.createVNode(Oi),e.createElementVNode("div",Md,[e.createVNode(Ad),e.createVNode(Gc)]),e.createVNode(cd)],38),e.createVNode(e.Transition,{name:"fade"},{default:e.withCtx(()=>[e.unref(r).modal.visible?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(r).modal.type),{key:0})):e.createCommentVNode("",!0)]),_:1}),e.createVNode(Zc)],2)],512))}},Fd={install(n,t={}){var s,r,l,i,c,a,d,m,u,v,f,_,b,k,V,T,N,w,x,D,L,$,p,h,B,g,A,y,M,F,H,G;t.i18n=t.i18n??{};let[o]=Object.keys(t.i18n);t.locale=t.locale??o??"en",t.iconComponent=t.iconComponent??{tag:"svg",props:{}},t.icons={about:((s=t.icons)==null?void 0:s.about)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.about),archive:((r=t.icons)==null?void 0:r.archive)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.archive),asc:((l=t.icons)==null?void 0:l.asc)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.asc),close:((i=t.icons)==null?void 0:i.close)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.close),delete:((c=t.icons)==null?void 0:c.delete)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E._delete),desc:((a=t.icons)==null?void 0:a.desc)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.desc),dots:((d=t.icons)==null?void 0:d.dots)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.dots),drag:((m=t.icons)==null?void 0:m.drag)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.drag),exit:((u=t.icons)==null?void 0:u.exit)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.exit),file:((v=t.icons)==null?void 0:v.file)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.file),folder:((f=t.icons)==null?void 0:f.folder)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.folder),full_screen:((_=t.icons)==null?void 0:_.full_screen)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.full_screen),go_up:((b=t.icons)==null?void 0:b.go_up)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.go_up),grid_view:((k=t.icons)==null?void 0:k.grid_view)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.grid_view),home:((V=t.icons)==null?void 0:V.home)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.home),loading:((T=t.icons)==null?void 0:T.loading)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.loading),list_tree:((N=t.icons)==null?void 0:N.list_tree)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.list_tree),list_view:((w=t.icons)==null?void 0:w.list_view)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.list_view),minimize:((x=t.icons)==null?void 0:x.minimize)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.minimize),minus:((D=t.icons)==null?void 0:D.square_minus)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.minus),new_file:((L=t.icons)==null?void 0:L.new_file)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.new_file),new_folder:(($=t.icons)==null?void 0:$.new_folder)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.new_folder),open_folder:((p=t.icons)==null?void 0:p.open_folder)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.open_folder),pin:((h=t.icons)==null?void 0:h.pin)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.pin),plus:((B=t.icons)==null?void 0:B.square_plus)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.plus),refresh:((g=t.icons)==null?void 0:g.refresh)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.refresh),rename:((A=t.icons)==null?void 0:A.rename)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.rename),search:((y=t.icons)==null?void 0:y.search)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.search),storage:((M=t.icons)==null?void 0:M.storage)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.storage),unarchive:((F=t.icons)==null?void 0:F.unarchive)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.unarchive),upload:((H=t.icons)==null?void 0:H.upload)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.upload),x_box:((G=t.icons)==null?void 0:G.xbox)??Promise.resolve().then(()=>require("./icons-CSLqtlCa.cjs")).then(E=>E.x_box)},n.provide("VueFinderOptions",t),n.component("VueFinder",Od)}};exports.SimpleContextMenuItem=ar;exports.contextMenuItems=ir;exports.default=Fd;
